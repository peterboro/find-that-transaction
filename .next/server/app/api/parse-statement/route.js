"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/parse-statement/route";
exports.ids = ["app/api/parse-statement/route"];
exports.modules = {

/***/ "@prisma/client":
/*!*********************************!*\
  !*** external "@prisma/client" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("@prisma/client");

/***/ }),

/***/ "../../client/components/action-async-storage.external":
/*!*******************************************************************************!*\
  !*** external "next/dist/client/components/action-async-storage.external.js" ***!
  \*******************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/action-async-storage.external.js");

/***/ }),

/***/ "../../client/components/request-async-storage.external":
/*!********************************************************************************!*\
  !*** external "next/dist/client/components/request-async-storage.external.js" ***!
  \********************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/request-async-storage.external.js");

/***/ }),

/***/ "../../client/components/static-generation-async-storage.external":
/*!******************************************************************************************!*\
  !*** external "next/dist/client/components/static-generation-async-storage.external.js" ***!
  \******************************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/static-generation-async-storage.external.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "child_process":
/*!********************************!*\
  !*** external "child_process" ***!
  \********************************/
/***/ ((module) => {

module.exports = require("child_process");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "fs/promises":
/*!******************************!*\
  !*** external "fs/promises" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("fs/promises");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

module.exports = require("https");

/***/ }),

/***/ "node:async_hooks":
/*!***********************************!*\
  !*** external "node:async_hooks" ***!
  \***********************************/
/***/ ((module) => {

module.exports = require("node:async_hooks");

/***/ }),

/***/ "node:crypto":
/*!******************************!*\
  !*** external "node:crypto" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("node:crypto");

/***/ }),

/***/ "os":
/*!*********************!*\
  !*** external "os" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("os");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "querystring":
/*!******************************!*\
  !*** external "querystring" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("querystring");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stream");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("util");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fparse-statement%2Froute&page=%2Fapi%2Fparse-statement%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fparse-statement%2Froute.ts&appDir=C%3A%5CUsers%5CPtahb%5COneDrive%5CDocuments%5Cfind-that-transaction%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CPtahb%5COneDrive%5CDocuments%5Cfind-that-transaction&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fparse-statement%2Froute&page=%2Fapi%2Fparse-statement%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fparse-statement%2Froute.ts&appDir=C%3A%5CUsers%5CPtahb%5COneDrive%5CDocuments%5Cfind-that-transaction%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CPtahb%5COneDrive%5CDocuments%5Cfind-that-transaction&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_Ptahb_OneDrive_Documents_find_that_transaction_src_app_api_parse_statement_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/parse-statement/route.ts */ \"(rsc)/./src/app/api/parse-statement/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/parse-statement/route\",\n        pathname: \"/api/parse-statement\",\n        filename: \"route\",\n        bundlePath: \"app/api/parse-statement/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\Ptahb\\\\OneDrive\\\\Documents\\\\find-that-transaction\\\\src\\\\app\\\\api\\\\parse-statement\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Users_Ptahb_OneDrive_Documents_find_that_transaction_src_app_api_parse_statement_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/parse-statement/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZwYXJzZS1zdGF0ZW1lbnQlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRnBhcnNlLXN0YXRlbWVudCUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRnBhcnNlLXN0YXRlbWVudCUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNQdGFoYiU1Q09uZURyaXZlJTVDRG9jdW1lbnRzJTVDZmluZC10aGF0LXRyYW5zYWN0aW9uJTVDc3JjJTVDYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj1DJTNBJTVDVXNlcnMlNUNQdGFoYiU1Q09uZURyaXZlJTVDRG9jdW1lbnRzJTVDZmluZC10aGF0LXRyYW5zYWN0aW9uJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUNzRDtBQUNuSTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlFQUFpRTtBQUN6RTtBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ3VIOztBQUV2SCIsInNvdXJjZXMiOlsid2VicGFjazovL2ZpbmQtdGhhdC10cmFuc2FjdGlvbi8/ZmVmZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCJDOlxcXFxVc2Vyc1xcXFxQdGFoYlxcXFxPbmVEcml2ZVxcXFxEb2N1bWVudHNcXFxcZmluZC10aGF0LXRyYW5zYWN0aW9uXFxcXHNyY1xcXFxhcHBcXFxcYXBpXFxcXHBhcnNlLXN0YXRlbWVudFxcXFxyb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvcGFyc2Utc3RhdGVtZW50L3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvcGFyc2Utc3RhdGVtZW50XCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9wYXJzZS1zdGF0ZW1lbnQvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCJDOlxcXFxVc2Vyc1xcXFxQdGFoYlxcXFxPbmVEcml2ZVxcXFxEb2N1bWVudHNcXFxcZmluZC10aGF0LXRyYW5zYWN0aW9uXFxcXHNyY1xcXFxhcHBcXFxcYXBpXFxcXHBhcnNlLXN0YXRlbWVudFxcXFxyb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvcGFyc2Utc3RhdGVtZW50L3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fparse-statement%2Froute&page=%2Fapi%2Fparse-statement%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fparse-statement%2Froute.ts&appDir=C%3A%5CUsers%5CPtahb%5COneDrive%5CDocuments%5Cfind-that-transaction%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CPtahb%5COneDrive%5CDocuments%5Cfind-that-transaction&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/parse-statement/route.ts":
/*!**********************************************!*\
  !*** ./src/app/api/parse-statement/route.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _clerk_nextjs_server__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @clerk/nextjs/server */ \"(rsc)/./node_modules/@clerk/nextjs/dist/esm/app-router/server/auth.js\");\n/* harmony import */ var _clerk_nextjs_server__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @clerk/nextjs/server */ \"(rsc)/./node_modules/@clerk/nextjs/dist/esm/app-router/server/currentUser.js\");\n/* harmony import */ var _lib_db__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/db */ \"(rsc)/./src/lib/db.ts\");\n/* harmony import */ var _lib_cloudinary__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/cloudinary */ \"(rsc)/./src/lib/cloudinary.ts\");\n/* harmony import */ var _lib_pdf_to_images__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/pdf-to-images */ \"(rsc)/./src/lib/pdf-to-images.ts\");\n/* harmony import */ var _lib_gemini__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/lib/gemini */ \"(rsc)/./src/lib/gemini.ts\");\n\n\n\n\n\n\nasync function POST(request) {\n    try {\n        const { userId } = (0,_clerk_nextjs_server__WEBPACK_IMPORTED_MODULE_5__.auth)();\n        if (!userId) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Unauthorized\"\n            }, {\n                status: 401\n            });\n        }\n        // Get or create user in database\n        let dbUser = await _lib_db__WEBPACK_IMPORTED_MODULE_1__.db.user.findUnique({\n            where: {\n                clerkId: userId\n            }\n        });\n        if (!dbUser) {\n            const clerkUser = await (0,_clerk_nextjs_server__WEBPACK_IMPORTED_MODULE_6__.currentUser)();\n            dbUser = await _lib_db__WEBPACK_IMPORTED_MODULE_1__.db.user.create({\n                data: {\n                    clerkId: userId,\n                    email: clerkUser?.emailAddresses[0]?.emailAddress || \"\",\n                    firstName: clerkUser?.firstName,\n                    lastName: clerkUser?.lastName,\n                    imageUrl: clerkUser?.imageUrl\n                }\n            });\n        }\n        // Check usage limits\n        if (dbUser.plan === \"FREE\" && dbUser.statementsUsed >= dbUser.statementsLimit) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Limit reached\",\n                message: \"You have reached your monthly limit. Upgrade to Pro for unlimited statements.\"\n            }, {\n                status: 403\n            });\n        }\n        const formData = await request.formData();\n        const file = formData.get(\"file\");\n        const password = formData.get(\"password\");\n        if (!file || file.type !== \"application/pdf\") {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Invalid file\",\n                message: \"Please upload a PDF file\"\n            }, {\n                status: 400\n            });\n        }\n        // Convert file to buffer\n        const buffer = Buffer.from(await file.arrayBuffer());\n        // Upload to Cloudinary\n        const { url: fileUrl, publicId: filePublicId } = await (0,_lib_cloudinary__WEBPACK_IMPORTED_MODULE_2__.uploadPdf)(buffer, file.name);\n        // Create statement record\n        const statement = await _lib_db__WEBPACK_IMPORTED_MODULE_1__.db.statement.create({\n            data: {\n                userId: dbUser.id,\n                fileName: file.name,\n                fileUrl,\n                filePublicId,\n                fileSize: buffer.length,\n                status: \"PROCESSING\"\n            }\n        });\n        try {\n            // Convert PDF to images (with optional password)\n            const images = await (0,_lib_pdf_to_images__WEBPACK_IMPORTED_MODULE_3__.convertPdfToImages)(buffer, 20, password || undefined);\n            // Update page count\n            await _lib_db__WEBPACK_IMPORTED_MODULE_1__.db.statement.update({\n                where: {\n                    id: statement.id\n                },\n                data: {\n                    pageCount: images.length\n                }\n            });\n            // Parse with Gemini AI\n            const transactions = await (0,_lib_gemini__WEBPACK_IMPORTED_MODULE_4__.parseStatementWithGemini)(images);\n            // Save transactions to database\n            if (transactions.length > 0) {\n                await _lib_db__WEBPACK_IMPORTED_MODULE_1__.db.transaction.createMany({\n                    data: transactions.map((t)=>({\n                            userId: dbUser.id,\n                            statementId: statement.id,\n                            date: t.date,\n                            description: t.description,\n                            debit: t.debit,\n                            credit: t.credit,\n                            balance: t.balance\n                        }))\n                });\n            }\n            // Update statement status\n            await _lib_db__WEBPACK_IMPORTED_MODULE_1__.db.statement.update({\n                where: {\n                    id: statement.id\n                },\n                data: {\n                    status: \"COMPLETED\"\n                }\n            });\n            // Increment usage\n            await _lib_db__WEBPACK_IMPORTED_MODULE_1__.db.user.update({\n                where: {\n                    id: dbUser.id\n                },\n                data: {\n                    statementsUsed: {\n                        increment: 1\n                    }\n                }\n            });\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: true,\n                statementId: statement.id,\n                transactions,\n                count: transactions.length,\n                message: `Successfully parsed ${transactions.length} transactions`\n            });\n        } catch (parseError) {\n            // Check if password is required\n            const isPasswordError = parseError.message?.includes(\"PASSWORD_REQUIRED\");\n            // Update statement with error\n            await _lib_db__WEBPACK_IMPORTED_MODULE_1__.db.statement.update({\n                where: {\n                    id: statement.id\n                },\n                data: {\n                    status: \"FAILED\",\n                    errorMessage: parseError.message\n                }\n            });\n            // Return password error with special status code\n            if (isPasswordError) {\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                    error: \"Password required\",\n                    message: parseError.message\n                }, {\n                    status: 400\n                });\n            }\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Parse failed\",\n                message: parseError.message\n            }, {\n                status: 500\n            });\n        }\n    } catch (error) {\n        console.error(\"Parse error:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Server error\",\n            message: error.message\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9wYXJzZS1zdGF0ZW1lbnQvcm91dGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBdUQ7QUFDQztBQUMzQjtBQUNlO0FBQ1k7QUFDRDtBQUVoRCxlQUFlTyxLQUFLQyxPQUFvQjtJQUM3QyxJQUFJO1FBQ0YsTUFBTSxFQUFFQyxNQUFNLEVBQUUsR0FBR1IsMERBQUlBO1FBQ3ZCLElBQUksQ0FBQ1EsUUFBUTtZQUNYLE9BQU9ULHFEQUFZQSxDQUFDVSxJQUFJLENBQUM7Z0JBQUVDLE9BQU87WUFBZSxHQUFHO2dCQUFFQyxRQUFRO1lBQUk7UUFDcEU7UUFFQSxpQ0FBaUM7UUFDakMsSUFBSUMsU0FBUyxNQUFNVix1Q0FBRUEsQ0FBQ1csSUFBSSxDQUFDQyxVQUFVLENBQUM7WUFBRUMsT0FBTztnQkFBRUMsU0FBU1I7WUFBTztRQUFFO1FBRW5FLElBQUksQ0FBQ0ksUUFBUTtZQUNYLE1BQU1LLFlBQVksTUFBTWhCLGlFQUFXQTtZQUNuQ1csU0FBUyxNQUFNVix1Q0FBRUEsQ0FBQ1csSUFBSSxDQUFDSyxNQUFNLENBQUM7Z0JBQzVCQyxNQUFNO29CQUNKSCxTQUFTUjtvQkFDVFksT0FBT0gsV0FBV0ksY0FBYyxDQUFDLEVBQUUsRUFBRUMsZ0JBQWdCO29CQUNyREMsV0FBV04sV0FBV007b0JBQ3RCQyxVQUFVUCxXQUFXTztvQkFDckJDLFVBQVVSLFdBQVdRO2dCQUN2QjtZQUNGO1FBQ0Y7UUFFQSxxQkFBcUI7UUFDckIsSUFBSWIsT0FBT2MsSUFBSSxLQUFLLFVBQVVkLE9BQU9lLGNBQWMsSUFBSWYsT0FBT2dCLGVBQWUsRUFBRTtZQUM3RSxPQUFPN0IscURBQVlBLENBQUNVLElBQUksQ0FDdEI7Z0JBQUVDLE9BQU87Z0JBQWlCbUIsU0FBUztZQUFnRixHQUNuSDtnQkFBRWxCLFFBQVE7WUFBSTtRQUVsQjtRQUVBLE1BQU1tQixXQUFXLE1BQU12QixRQUFRdUIsUUFBUTtRQUN2QyxNQUFNQyxPQUFPRCxTQUFTRSxHQUFHLENB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QU87b0JBQUU4QixJQUFJRCxVQUFVQyxFQUFFO2dCQUFDO2dCQUMxQjFCLE1BQU07b0JBQ0pSLFFBQVE7b0JBQ1IyRCxjQUFjSCxXQUFXdEMsT0FBTztnQkFDbEM7WUFDRjtZQUVBLGlEQUFpRDtZQUNqRCxJQUFJdUMsaUJBQWlCO2dCQUNuQixPQUFPckUscURBQVlBLENBQUNVLElBQUksQ0FDdEI7b0JBQUVDLE9BQU87b0JBQXFCbUIsU0FBU3NDLFdBQVd0QyxPQUFPO2dCQUFDLEdBQzFEO29CQUFFbEIsUUFBUTtnQkFBSTtZQUVsQjtZQUVBLE9BQU9aLHFEQUFZQSxDQUFDVSxJQUFJLENBQ3RCO2dCQUFFQyxPQUFPO2dCQUFnQm1CLFNBQVNzQyxXQUFXdEMsT0FBTztZQUFDLEdBQ3JEO2dCQUFFbEIsUUFBUTtZQUFJO1FBRWxCO0lBRUYsRUFBRSxPQUFPRCxPQUFZO1FBQ25CNkQsUUFBUTdELEtBQUssQ0FBQyxnQkFBZ0JBO1FBQzlCLE9BQU9YLHFEQUFZQSxDQUFDVSxJQUFJLENBQ3RCO1lBQUVDLE9BQU87WUFBZ0JtQixTQUFTbkIsTUFBTW1CLE9BQU87UUFBQyxHQUNoRDtZQUFFbEIsUUFBUTtRQUFJO0lBRWxCO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9maW5kLXRoYXQtdHJhbnNhY3Rpb24vLi9zcmMvYXBwL2FwaS9wYXJzZS1zdGF0ZW1lbnQvcm91dGUudHM/ZTFhMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVxdWVzdCwgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInXHJcbmltcG9ydCB7IGF1dGgsIGN1cnJlbnRVc2VyIH0gZnJvbSAnQGNsZXJrL25leHRqcy9zZXJ2ZXInXHJcbmltcG9ydCB7IGRiIH0gZnJvbSAnQC9saWIvZGInXHJcbmltcG9ydCB7IHVwbG9hZFBkZiB9IGZyb20gJ0AvbGliL2Nsb3VkaW5hcnknXHJcbmltcG9ydCB7IGNvbnZlcnRQZGZUb0ltYWdlcyB9IGZyb20gJ0AvbGliL3BkZi10by1pbWFnZXMnXHJcbmltcG9ydCB7IHBhcnNlU3RhdGVtZW50V2l0aEdlbWluaSB9IGZyb20gJ0AvbGliL2dlbWluaSdcclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHsgdXNlcklkIH0gPSBhdXRoKClcclxuICAgIGlmICghdXNlcklkKSB7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnVW5hdXRob3JpemVkJyB9LCB7IHN0YXR1czogNDAxIH0pXHJcbiAgICB9XHJcblxyXG4gICAgLy8gR2V0IG9yIGNyZWF0ZSB1c2VyIGluIGRhdGFiYXNlXHJcbiAgICBsZXQgZGJVc2VyID0gYXdhaXQgZGIudXNlci5maW5kVW5pcXVlKHsgd2hlcmU6IHsgY2xlcmtJZDogdXNlcklkIH0gfSlcclxuICAgIFxyXG4gICAgaWYgKCFkYlVzZXIpIHtcclxuICAgICAgY29uc3QgY2xlcmtVc2VyID0gYXdhaXQgY3VycmVudFVzZXIoKVxyXG4gICAgICBkYlVzZXIgPSBhd2FpdCBkYi51c2VyLmNyZWF0ZSh7XHJcbiAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgY2xlcmtJZDogdXNlcklkLFxyXG4gICAgICAgICAgZW1haWw6IGNsZXJrVXNlcj8uZW1haWxBZGRyZXNzZXNbMF0/LmVtYWlsQWRkcmVzcyB8fCAnJyxcclxuICAgICAgICAgIGZpcnN0TmFtZTogY2xlcmtVc2VyPy5maXJzdE5hbWUsXHJcbiAgICAgICAgICBsYXN0TmFtZTogY2xlcmtVc2VyPy5sYXN0TmFtZSxcclxuICAgICAgICAgIGltYWdlVXJsOiBjbGVya1VzZXI/LmltYWdlVXJsLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ2hlY2sgdXNhZ2UgbGltaXRzXHJcbiAgICBpZiAoZGJVc2VyLnBsYW4gPT09ICdGUkVFJyAmJiBkYlVzZXIuc3RhdGVtZW50c1VzZWQgPj0gZGJVc2VyLnN0YXRlbWVudHNMaW1pdCkge1xyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgICAgeyBlcnJvcjogJ0xpbWl0IHJlYWNoZWQnLCBtZXNzYWdlOiAnWW91IGhhdmUgcmVhY2hlZCB5b3VyIG1vbnRobHkgbGltaXQuIFVwZ3JhZGUgdG8gUHJvIGZvciB1bmxpbWl0ZWQgc3RhdGVtZW50cy4nIH0sXHJcbiAgICAgICAgeyBzdGF0dXM6IDQwMyB9XHJcbiAgICAgIClcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBmb3JtRGF0YSA9IGF3YWl0IHJlcXVlc3QuZm9ybURhdGEoKVxyXG4gICAgY29uc3QgZmlsZSA9IGZvcm1EYXRhLmdldCgnZmlsZScpIGFzIEZpbGVcclxuICAgIGNvbnN0IHBhc3N3b3JkID0gZm9ybURhdGEuZ2V0KCdwYXNzd29yZCcpIGFzIHN0cmluZyB8IG51bGxcclxuXHJcbiAgICBpZiAoIWZpbGUgfHwgZmlsZS50eXBlICE9PSAnYXBwbGljYXRpb24vcGRmJykge1xyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgICAgeyBlcnJvcjogJ0ludmFsaWQgZmlsZScsIG1lc3NhZ2U6ICdQbGVhc2UgdXBsb2FkIGEgUERGIGZpbGUnIH0sXHJcbiAgICAgICAgeyBzdGF0dXM6IDQwMCB9XHJcbiAgICAgIClcclxuICAgIH1cclxuXHJcbiAgICAvLyBDb252ZXJ0IGZpbGUgdG8gYnVmZmVyXHJcbiAgICBjb25zdCBidWZmZXIgPSBCdWZmZXIuZnJvbShhd2FpdCBmaWxlLmFycmF5QnVmZmVyKCkpXHJcblxyXG4gICAgLy8gVXBsb2FkIHRvIENsb3VkaW5hcnlcclxuICAgIGNvbnN0IHsgdXJsOiBmaWxlVXJsLCBwdWJsaWNJZDogZmlsZVB1YmxpY0lkIH0gPSBhd2FpdCB1cGxvYWRQZGYoYnVmZmVyLCBmaWxlLm5hbWUpXHJcblxyXG4gICAgLy8gQ3JlYXRlIHN0YXRlbWVudCByZWNvcmRcclxuICAgIGNvbnN0IHN0YXRlbWVudCA9IGF3YWl0IGRiLnN0YXRlbWVudC5jcmVhdGUoe1xyXG4gICAgICBkYXRhOiB7XHJcbiAgICAgICAgdXNlcklkOiBkYlVzZXIuaWQsXHJcbiAgICAgICAgZmlsZU5hbWU6IGZpbGUubmFtZSxcclxuICAgICAgICBmaWxlVXJsLFxyXG4gICAgICAgIGZpbGVQdWJsaWNJZCxcclxuICAgICAgICBmaWxlU2l6ZTogYnVmZmVyLmxlbmd0aCxcclxuICAgICAgICBzdGF0dXM6ICdQUk9DRVNTSU5HJyxcclxuICAgICAgfSxcclxuICAgIH0pXHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgLy8gQ29udmVydCBQREYgdG8gaW1hZ2VzICh3aXRoIG9wdGlvbmFsIHBhc3N3b3JkKVxyXG4gICAgICBjb25zdCBpbWFnZXMgPSBhd2FpdCBjb252ZXJ0UGRmVG9JbWFnZXMoYnVmZmVyLCAyMCwgcGFzc3dvcmQgfHwgdW5kZWZpbmVkKVxyXG4gICAgICBcclxuICAgICAgLy8gVXBkYXRlIHBhZ2UgY291bnRcclxuICAgICAgYXdhaXQgZGIuc3RhdGVtZW50LnVwZGF0ZSh7XHJcbiAgICAgICAgd2hlcmU6IHsgaWQ6IHN0YXRlbWVudC5pZCB9LFxyXG4gICAgICAgIGRhdGE6IHsgcGFnZUNvdW50OiBpbWFnZXMubGVuZ3RoIH0sXHJcbiAgICAgIH0pXHJcblxyXG4gICAgICAvLyBQYXJzZSB3aXRoIEdlbWluaSBBSVxyXG4gICAgICBjb25zdCB0cmFuc2FjdGlvbnMgPSBhd2FpdCBwYXJzZVN0YXRlbWVudFdpdGhHZW1pbmkoaW1hZ2VzKVxyXG5cclxuICAgICAgLy8gU2F2ZSB0cmFuc2FjdGlvbnMgdG8gZGF0YWJhc2VcclxuICAgICAgaWYgKHRyYW5zYWN0aW9ucy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgYXdhaXQgZGIudHJhbnNhY3Rpb24uY3JlYXRlTWFueSh7XHJcbiAgICAgICAgICBkYXRhOiB0cmFuc2FjdGlvbnMubWFwKHQgPT4gKHtcclxuICAgICAgICAgICAgdXNlcklkOiBkYlVzZXIhLmlkLFxyXG4gICAgICAgICAgICBzdGF0ZW1lbnRJZDogc3RhdGVtZW50LmlkLFxyXG4gICAgICAgICAgICBkYXRlOiB0LmRhdGUsXHJcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiB0LmRlc2NyaXB0aW9uLFxyXG4gICAgICAgICAgICBkZWJpdDogdC5kZWJpdCxcclxuICAgICAgICAgICAgY3JlZGl0OiB0LmNyZWRpdCxcclxuICAgICAgICAgICAgYmFsYW5jZTogdC5iYWxhbmNlLFxyXG4gICAgICAgICAgfSkpLFxyXG4gICAgICAgIH0pXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIFVwZGF0ZSBzdGF0ZW1lbnQgc3RhdHVzXHJcbiAgICAgIGF3YWl0IGRiLnN0YXRlbWVudC51cGRhdGUoe1xyXG4gICAgICAgIHdoZXJlOiB7IGlkOiBzdGF0ZW1lbnQuaWQgfSxcclxuICAgICAgICBkYXRhOiB7IHN0YXR1czogJ0NPTVBMRVRFRCcgfSxcclxuICAgICAgfSlcclxuXHJcbiAgICAgIC8vIEluY3JlbWVudCB1c2FnZVxyXG4gICAgICBhd2FpdCBkYi51c2VyLnVwZGF0ZSh7XHJcbiAgICAgICAgd2hlcmU6IHsgaWQ6IGRiVXNlci5pZCB9LFxyXG4gICAgICAgIGRhdGE6IHsgc3RhdGVtZW50c1VzZWQ6IHsgaW5jcmVtZW50OiAxIH0gfSxcclxuICAgICAgfSlcclxuXHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XHJcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgICBzdGF0ZW1lbnRJZDogc3RhdGVtZW50LmlkLFxyXG4gICAgICAgIHRyYW5zYWN0aW9ucyxcclxuICAgICAgICBjb3VudDogdHJhbnNhY3Rpb25zLmxlbmd0aCxcclxuICAgICAgICBtZXNzYWdlOiBgU3VjY2Vzc2Z1bGx5IHBhcnNlZCAke3RyYW5zYWN0aW9ucy5sZW5ndGh9IHRyYW5zYWN0aW9uc2AsXHJcbiAgICAgIH0pXHJcblxyXG4gICAgfSBjYXRjaCAocGFyc2VFcnJvcjogYW55KSB7XHJcbiAgICAgIC8vIENoZWNrIGlmIHBhc3N3b3JkIGlzIHJlcXVpcmVkXHJcbiAgICAgIGNvbnN0IGlzUGFzc3dvcmRFcnJvciA9IHBhcnNlRXJyb3IubWVzc2FnZT8uaW5jbHVkZXMoJ1BBU1NXT1JEX1JFUVVJUkVEJylcclxuICAgICAgXHJcbiAgICAgIC8vIFVwZGF0ZSBzdGF0ZW1lbnQgd2l0aCBlcnJvclxyXG4gICAgICBhd2FpdCBkYi5zdGF0ZW1lbnQudXBkYXRlKHtcclxuICAgICAgICB3aGVyZTogeyBpZDogc3RhdGVtZW50LmlkIH0sXHJcbiAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgc3RhdHVzOiAnRkFJTEVEJyxcclxuICAgICAgICAgIGVycm9yTWVzc2FnZTogcGFyc2VFcnJvci5tZXNzYWdlLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH0pXHJcblxyXG4gICAgICAvLyBSZXR1cm4gcGFzc3dvcmQgZXJyb3Igd2l0aCBzcGVjaWFsIHN0YXR1cyBjb2RlXHJcbiAgICAgIGlmIChpc1Bhc3N3b3JkRXJyb3IpIHtcclxuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgICAgICB7IGVycm9yOiAnUGFzc3dvcmQgcmVxdWlyZWQnLCBtZXNzYWdlOiBwYXJzZUVycm9yLm1lc3NhZ2UgfSxcclxuICAgICAgICAgIHsgc3RhdHVzOiA0MDAgfVxyXG4gICAgICAgIClcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICAgIHsgZXJyb3I6ICdQYXJzZSBmYWlsZWQnLCBtZXNzYWdlOiBwYXJzZUVycm9yLm1lc3NhZ2UgfSxcclxuICAgICAgICB7IHN0YXR1czogNTAwIH1cclxuICAgICAgKVxyXG4gICAgfVxyXG5cclxuICB9IGNhdGNoIChlcnJvcjogYW55KSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdQYXJzZSBlcnJvcjonLCBlcnJvcilcclxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgeyBlcnJvcjogJ1NlcnZlciBlcnJvcicsIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UgfSxcclxuICAgICAgeyBzdGF0dXM6IDUwMCB9XHJcbiAgICApXHJcbiAgfVxyXG59XHJcbiJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJhdXRoIiwiY3VycmVudFVzZXIiLCJkYiIsInVwbG9hZFBkZiIsImNvbnZlcnRQZGZUb0ltYWdlcyIsInBhcnNlU3RhdGVtZW50V2l0aEdlbWluaSIsIlBPU1QiLCJyZXF1ZXN0IiwidXNlcklkIiwianNvbiIsImVycm9yIiwic3RhdHVzIiwiZGJVc2VyIiwidXNlciIsImZpbmRVbmlxdWUiLCJ3aGVyZSIsImNsZXJrSWQiLCJjbGVya1VzZXIiLCJjcmVhdGUiLCJkYXRhIiwiZW1haWwiLCJlbWFpbEFkZHJlc3NlcyIsImVtYWlsQWRkcmVzcyIsImZpcnN0TmFtZSIsImxhc3ROYW1lIiwiaW1hZ2VVcmwiLCJwbGFuIiwic3RhdGVtZW50c1VzZWQiLCJzdGF0ZW1lbnRzTGltaXQiLCJtZXNzYWdlIiwiZm9ybURhdGEiLCJmaWxlIiwiZ2V0IiwicGFzc3dvcmQiLCJ0eXBlIiwiYnVmZmVyIiwiQnVmZmVyIiwiZnJvbSIsImFycmF5QnVmZmVyIiwidXJsIiwiZmlsZVVybCIsInB1YmxpY0lkIiwiZmlsZVB1YmxpY0lkIiwibmFtZSIsInN0YXRlbWVudCIsImlkIiwiZmlsZU5hbWUiLCJmaWxlU2l6ZSIsImxlbmd0aCIsImltYWdlcyIsInVuZGVmaW5lZCIsInVwZGF0ZSIsInBhZ2VDb3VudCIsInRyYW5zYWN0aW9ucyIsInRyYW5zYWN0aW9uIiwiY3JlYXRlTWFueSIsIm1hcCIsInQiLCJzdGF0ZW1lbnRJZCIsImRhdGUiLCJkZXNjcmlwdGlvbiIsImRlYml0IiwiY3JlZGl0IiwiYmFsYW5jZSIsImluY3JlbWVudCIsInN1Y2Nlc3MiLCJjb3VudCIsInBhcnNlRXJyb3IiLCJpc1Bhc3N3b3JkRXJyb3IiLCJpbmNsdWRlcyIsImVycm9yTWVzc2FnZSIsImNvbnNvbGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/parse-statement/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/cloudinary.ts":
/*!*******************************!*\
  !*** ./src/lib/cloudinary.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   cloudinary: () => (/* reexport safe */ cloudinary__WEBPACK_IMPORTED_MODULE_0__.v2),\n/* harmony export */   deletePdf: () => (/* binding */ deletePdf),\n/* harmony export */   uploadPdf: () => (/* binding */ uploadPdf)\n/* harmony export */ });\n/* harmony import */ var cloudinary__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! cloudinary */ \"(rsc)/./node_modules/cloudinary/cloudinary.js\");\n/* harmony import */ var cloudinary__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(cloudinary__WEBPACK_IMPORTED_MODULE_0__);\n\ncloudinary__WEBPACK_IMPORTED_MODULE_0__.v2.config({\n    cloud_name: process.env.CLOUDINARY_CLOUD_NAME,\n    api_key: process.env.CLOUDINARY_API_KEY,\n    api_secret: process.env.CLOUDINARY_API_SECRET\n});\nasync function uploadPdf(buffer, fileName) {\n    return new Promise((resolve, reject)=>{\n        const uploadStream = cloudinary__WEBPACK_IMPORTED_MODULE_0__.v2.uploader.upload_stream({\n            resource_type: \"raw\",\n            folder: \"find-that-transaction/statements\",\n            public_id: `${Date.now()}-${fileName.replace(\".pdf\", \"\")}`\n        }, (error, result)=>{\n            if (error) reject(error);\n            else resolve({\n                url: result.secure_url,\n                publicId: result.public_id\n            });\n        });\n        uploadStream.end(buffer);\n    });\n}\nasync function deletePdf(publicId) {\n    return cloudinary__WEBPACK_IMPORTED_MODULE_0__.v2.uploader.destroy(publicId, {\n        resource_type: \"raw\"\n    });\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL2Nsb3VkaW5hcnkudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBNkM7QUFFN0NDLDBDQUFVQSxDQUFDQyxNQUFNLENBQUM7SUFDaEJDLFlBQVlDLFFBQVFDLEdBQUcsQ0FBQ0MscUJBQXFCO0lBQzdDQyxTQUFTSCxRQUFRQyxHQUFHLENBQUNHLGtCQUFrQjtJQUN2Q0MsWUFBWUwsUUFBUUMsR0FBRyxDQUFDSyxxQkFBcUI7QUFDL0M7QUFFTyxlQUFlQyxVQUFVQyxNQUFjLEVBQUVDLFFBQWdCO0lBSTlELE9BQU8sSUFBSUMsUUFBUSxDQUFDQyxTQUFTQztRQUMzQixNQUFNQyxlQUFlaEIsMENBQVVBLENBQUNpQixRQUFRLENBQUNDLGFBQWEsQ0FDcEQ7WUFDRUMsZUFBZTtZQUNmQyxRQUFRO1lBQ1JDLFdBQVcsQ0FBQyxFQUFFQyxLQUFLQyxHQUFHLEdBQUcsQ0FBQyxFQUFFWCxTQUFTWSxPQUFPLENBQUMsUUFBUSxJQUFJLENBQUM7UUFDNUQsR0FDQSxDQUFDQyxPQUFPQztZQUNOLElBQUlELE9BQU9WLE9BQU9VO2lCQUNiWCxRQUFRO2dCQUNYYSxLQUFLRCxPQUFRRSxVQUFVO2dCQUN2QkMsVUFBVUgsT0FBUUwsU0FBUztZQUM3QjtRQUNGO1FBRUZMLGFBQWFjLEdBQUcsQ0FBQ25CO0lBQ25CO0FBQ0Y7QUFFTyxlQUFlb0IsVUFBVUYsUUFBZ0I7SUFDOUMsT0FBTzdCLDBDQUFVQSxDQUFDaUIsUUFBUSxDQUFDZSxPQUFPLENBQUNILFVBQVU7UUFBRVYsZUFBZTtJQUFNO0FBQ3RFO0FBRXFCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmluZC10aGF0LXRyYW5zYWN0aW9uLy4vc3JjL2xpYi9jbG91ZGluYXJ5LnRzP2UxZmEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdjIgYXMgY2xvdWRpbmFyeSB9IGZyb20gJ2Nsb3VkaW5hcnknXHJcblxyXG5jbG91ZGluYXJ5LmNvbmZpZyh7XHJcbiAgY2xvdWRfbmFtZTogcHJvY2Vzcy5lbnYuQ0xPVURJTkFSWV9DTE9VRF9OQU1FLFxyXG4gIGFwaV9rZXk6IHByb2Nlc3MuZW52LkNMT1VESU5BUllfQVBJX0tFWSxcclxuICBhcGlfc2VjcmV0OiBwcm9jZXNzLmVudi5DTE9VRElOQVJZX0FQSV9TRUNSRVQsXHJcbn0pXHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdXBsb2FkUGRmKGJ1ZmZlcjogQnVmZmVyLCBmaWxlTmFtZTogc3RyaW5nKTogUHJvbWlzZTx7XHJcbiAgdXJsOiBzdHJpbmdcclxuICBwdWJsaWNJZDogc3RyaW5nXHJcbn0+IHtcclxuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgY29uc3QgdXBsb2FkU3RyZWFtID0gY2xvdWRpbmFyeS51cGxvYWRlci51cGxvYWRfc3RyZWFtKFxyXG4gICAgICB7XHJcbiAgICAgICAgcmVzb3VyY2VfdHlwZTogJ3JhdycsXHJcbiAgICAgICAgZm9sZGVyOiAnZmluZC10aGF0LXRyYW5zYWN0aW9uL3N0YXRlbWVudHMnLFxyXG4gICAgICAgIHB1YmxpY19pZDogYCR7RGF0ZS5ub3coKX0tJHtmaWxlTmFtZS5yZXBsYWNlKCcucGRmJywgJycpfWAsXHJcbiAgICAgIH0sXHJcbiAgICAgIChlcnJvciwgcmVzdWx0KSA9PiB7XHJcbiAgICAgICAgaWYgKGVycm9yKSByZWplY3QoZXJyb3IpXHJcbiAgICAgICAgZWxzZSByZXNvbHZlKHtcclxuICAgICAgICAgIHVybDogcmVzdWx0IS5zZWN1cmVfdXJsLFxyXG4gICAgICAgICAgcHVibGljSWQ6IHJlc3VsdCEucHVibGljX2lkLFxyXG4gICAgICAgIH0pXHJcbiAgICAgIH1cclxuICAgIClcclxuICAgIHVwbG9hZFN0cmVhbS5lbmQoYnVmZmVyKVxyXG4gIH0pXHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZWxldGVQZGYocHVibGljSWQ6IHN0cmluZykge1xyXG4gIHJldHVybiBjbG91ZGluYXJ5LnVwbG9hZGVyLmRlc3Ryb3kocHVibGljSWQsIHsgcmVzb3VyY2VfdHlwZTogJ3JhdycgfSlcclxufVxyXG5cclxuZXhwb3J0IHsgY2xvdWRpbmFyeSB9XHJcbiJdLCJuYW1lcyI6WyJ2MiIsImNsb3VkaW5hcnkiLCJjb25maWciLCJjbG91ZF9uYW1lIiwicHJvY2VzcyIsImVudiIsIkNMT1VESU5BUllfQ0xPVURfTkFNRSIsImFwaV9rZXkiLCJDTE9VRElOQVJZX0FQSV9LRVkiLCJhcGlfc2VjcmV0IiwiQ0xPVURJTkFSWV9BUElfU0VDUkVUIiwidXBsb2FkUGRmIiwiYnVmZmVyIiwiZmlsZU5hbWUiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsInVwbG9hZFN0cmVhbSIsInVwbG9hZGVyIiwidXBsb2FkX3N0cmVhbSIsInJlc291cmNlX3R5cGUiLCJmb2xkZXIiLCJwdWJsaWNfaWQiLCJEYXRlIiwibm93IiwicmVwbGFjZSIsImVycm9yIiwicmVzdWx0IiwidXJsIiwic2VjdXJlX3VybCIsInB1YmxpY0lkIiwiZW5kIiwiZGVsZXRlUGRmIiwiZGVzdHJveSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/cloudinary.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/db.ts":
/*!***********************!*\
  !*** ./src/lib/db.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   db: () => (/* binding */ db)\n/* harmony export */ });\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_0__);\n\nconst globalForPrisma = globalThis;\nconst db = globalForPrisma.prisma ?? new _prisma_client__WEBPACK_IMPORTED_MODULE_0__.PrismaClient();\nif (true) globalForPrisma.prisma = db;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL2RiLnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUE2QztBQUU3QyxNQUFNQyxrQkFBa0JDO0FBSWpCLE1BQU1DLEtBQUtGLGdCQUFnQkcsTUFBTSxJQUFJLElBQUlKLHdEQUFZQSxHQUFFO0FBRTlELElBQUlLLElBQXlCLEVBQWNKLGdCQUFnQkcsTUFBTSxHQUFHRCIsInNvdXJjZXMiOlsid2VicGFjazovL2ZpbmQtdGhhdC10cmFuc2FjdGlvbi8uL3NyYy9saWIvZGIudHM/OWU0ZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQcmlzbWFDbGllbnQgfSBmcm9tICdAcHJpc21hL2NsaWVudCdcclxuXHJcbmNvbnN0IGdsb2JhbEZvclByaXNtYSA9IGdsb2JhbFRoaXMgYXMgdW5rbm93biBhcyB7XHJcbiAgcHJpc21hOiBQcmlzbWFDbGllbnQgfCB1bmRlZmluZWRcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IGRiID0gZ2xvYmFsRm9yUHJpc21hLnByaXNtYSA/PyBuZXcgUHJpc21hQ2xpZW50KClcclxuXHJcbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSBnbG9iYWxGb3JQcmlzbWEucHJpc21hID0gZGJcclxuIl0sIm5hbWVzIjpbIlByaXNtYUNsaWVudCIsImdsb2JhbEZvclByaXNtYSIsImdsb2JhbFRoaXMiLCJkYiIsInByaXNtYSIsInByb2Nlc3MiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/db.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/gemini.ts":
/*!***************************!*\
  !*** ./src/lib/gemini.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   parseStatementWithGemini: () => (/* binding */ parseStatementWithGemini)\n/* harmony export */ });\nconst GEMINI_API_KEY = process.env.GEMINI_API_KEY;\nasync function parseStatementWithGemini(imageBase64Array) {\n    if (!GEMINI_API_KEY) {\n        throw new Error(\"GEMINI_API_KEY not configured\");\n    }\n    const prompt = `Extract ALL transactions from this bank statement. For each transaction provide:\r\n- date (original format)\r\n- description (full text)\r\n- debit (money out as number, or null)\r\n- credit (money in as number, or null)\r\n- balance (as number, or null)\r\n\r\nReturn ONLY a valid JSON array, no other text. Example:\r\n[{\"date\":\"01-03-2025\",\"description\":\"ATM WITHDRAWAL\",\"debit\":5000,\"credit\":null,\"balance\":45000}]\r\n\r\nRemove commas from numbers. Use null for empty fields.`;\n    // Build parts with images\n    const parts = imageBase64Array.map((base64)=>({\n            inline_data: {\n                mime_type: \"image/png\",\n                data: base64\n            }\n        }));\n    parts.push({\n        text: prompt\n    });\n    // Try models in order of preference (more stable models first)\n    const models = [\n        \"gemini-1.5-flash\",\n        \"gemini-1.5-pro\",\n        \"gemini-2.0-flash-exp\"\n    ];\n    let lastError = \"\";\n    for (const model of models){\n        for(let attempt = 1; attempt <= 3; attempt++){\n            try {\n                const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/${model}:generateContent?key=${GEMINI_API_KEY}`, {\n                    method: \"POST\",\n                    headers: {\n                        \"Content-Type\": \"application/json\"\n                    },\n                    body: JSON.stringify({\n                        contents: [\n                            {\n                                parts\n                            }\n                        ],\n                        generationConfig: {\n                            temperature: 0.1,\n                            maxOutputTokens: 8192\n                        }\n                    })\n                });\n                if (response.status === 429) {\n                    // Rate limited - wait and retry\n                    lastError = \"Rate limit exceeded. Waiting before retry...\";\n                    await new Promise((resolve)=>setTimeout(resolve, attempt * 10000));\n                    continue;\n                }\n                if (response.status === 404) {\n                    lastError = `Model ${model} not found (404). Trying next model...`;\n                    break; // Try next model\n                }\n                if (!response.ok) {\n                    let errorText = await response.text();\n                    try {\n                        const errorJson = JSON.parse(errorText);\n                        if (errorJson.error?.message) {\n                            errorText = errorJson.error.message;\n                        } else if (errorJson.error) {\n                            errorText = JSON.stringify(errorJson.error);\n                        }\n                    } catch  {\n                    // Keep the original error text if parsing fails\n                    }\n                    // Handle common API errors\n                    if (response.status === 400 && errorText.includes(\"API_KEY_INVALID\")) {\n                        lastError = \"Invalid Gemini API key. Please check your GEMINI_API_KEY in .env.local\";\n                    } else if (response.status === 429) {\n                        lastError = \"Rate limit exceeded. Please try again later.\";\n                    } else if (response.status === 403) {\n                        lastError = \"API access forbidden. Check your API key permissions.\";\n                    } else {\n                        lastError = `API error (${response.status}): ${errorText}`;\n                    }\n                    break;\n                }\n                let data;\n                try {\n                    data = await response.json();\n                } catch (jsonError) {\n                    lastError = `Failed to parse JSON response: ${jsonError.message}`;\n                    console.error(\"Failed to parse Gemini API JSON response:\", jsonError);\n                    break;\n                }\n                // Check for safety filters or blocked content\n                if (data.candidates?.[0]?.finishReason === \"SAFETY\") {\n                    lastError = \"Content blocked by safety filters. The statement may contain sensitive content.\";\n                    console.error(\"Gemini API blocked content due to safety filters\");\n                    break;\n                }\n                if (!data.candidates?.[0]?.content?.parts?.[0]?.text) {\n                    const finishReason = data.candidates?.[0]?.finishReason || \"UNKNOWN\";\n                    lastError = `No response text from Gemini API. Finish reason: ${finishReason}. The model may have been blocked or the request format is invalid.`;\n                    console.error(\"Gemini API returned no text. Response data:\", JSON.stringify(data).substring(0, 500));\n                    break;\n                }\n                const responseText = data.candidates[0].content.parts[0].text;\n                const jsonMatch = responseText.match(/\\[[\\s\\S]*\\]/);\n                if (jsonMatch) {\n                    try {\n                        return JSON.parse(jsonMatch[0]);\n                    } catch (parseError) {\n                        lastError = `Failed to parse JSON response: ${parseError.message}. Response: ${responseText.substring(0, 200)}`;\n                        break;\n                    }\n                }\n                lastError = \"No valid JSON array found in Gemini response. The model may not have followed the format correctly.\";\n                break;\n            } catch (e) {\n                lastError = `Network or parsing error: ${e.message}`;\n                console.error(`Gemini API error (model: ${model}, attempt: ${attempt}):`, e.message);\n                if (attempt < 3) {\n                    await new Promise((resolve)=>setTimeout(resolve, 5000));\n                }\n            }\n        }\n    }\n    if (!lastError) {\n        lastError = \"All parsing attempts failed. No error details captured. Check your API key and network connection.\";\n    }\n    console.error(\"Gemini parsing failed after all attempts. Last error:\", lastError);\n    throw new Error(`Failed to parse with Gemini: ${lastError}`);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q25GLElBQUlyQixVQUFVLEdBQUc7b0JBQ2YsTUFBTSxJQUFJYSxRQUFRQyxDQUFBQSxVQUFXQyxXQUFXRCxTQUFTO2dCQUNuRDtZQUNGO1FBQ0Y7SUFDRjtJQUVBLElBQUksQ0FBQ2hCLFdBQVc7UUFDZEEsWUFBWTtJQUNkO0lBRUEyQixRQUFRTCxLQUFLLENBQUMseURBQXlEdEI7SUFDdkUsTUFBTSxJQUFJWCxNQUFNLENBQUMsNkJBQTZCLEVBQUVXLFVBQVUsQ0FBQztBQUM3RCIsInNvdXJjZXMiOlsid2VicGFjazovL2ZpbmQtdGhhdC10cmFuc2FjdGlvbi8uL3NyYy9saWIvZ2VtaW5pLnRzPzk5NGYiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgR0VNSU5JX0FQSV9LRVkgPSBwcm9jZXNzLmVudi5HRU1JTklfQVBJX0tFWVxyXG5cclxuaW50ZXJmYWNlIFRyYW5zYWN0aW9uIHtcclxuICBkYXRlOiBzdHJpbmdcclxuICBkZXNjcmlwdGlvbjogc3RyaW5nXHJcbiAgZGViaXQ6IG51bWJlciB8IG51bGxcclxuICBjcmVkaXQ6IG51bWJlciB8IG51bGxcclxuICBiYWxhbmNlOiBudW1iZXIgfCBudWxsXHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBwYXJzZVN0YXRlbWVudFdpdGhHZW1pbmkoaW1hZ2VCYXNlNjRBcnJheTogc3RyaW5nW10pOiBQcm9taXNlPFRyYW5zYWN0aW9uW10+IHtcclxuICBpZiAoIUdFTUlOSV9BUElfS0VZKSB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0dFTUlOSV9BUElfS0VZIG5vdCBjb25maWd1cmVkJylcclxuICB9XHJcblxyXG4gIGNvbnN0IHByb21wdCA9IGBFeHRyYWN0IEFMTCB0cmFuc2FjdGlvbnMgZnJvbSB0aGlzIGJhbmsgc3RhdGVtZW50LiBGb3IgZWFjaCB0cmFuc2FjdGlvbiBwcm92aWRlOlxyXG4tIGRhdGUgKG9yaWdpbmFsIGZvcm1hdClcclxuLSBkZXNjcmlwdGlvbiAoZnVsbCB0ZXh0KVxyXG4tIGRlYml0IChtb25leSBvdXQgYXMgbnVtYmVyLCBvciBudWxsKVxyXG4tIGNyZWRpdCAobW9uZXkgaW4gYXMgbnVtYmVyLCBvciBudWxsKVxyXG4tIGJhbGFuY2UgKGFzIG51bWJlciwgb3IgbnVsbClcclxuXHJcblJldHVybiBPTkxZIGEgdmFsaWQgSlNPTiBhcnJheSwgbm8gb3RoZXIgdGV4dC4gRXhhbXBsZTpcclxuW3tcImRhdGVcIjpcIjAxLTAzLTIwMjVcIixcImRlc2NyaXB0aW9uXCI6XCJBVE0gV0lUSERSQVdBTFwiLFwiZGViaXRcIjo1MDAwLFwiY3JlZGl0XCI6bnVsbCxcImJhbGFuY2VcIjo0NTAwMH1dXHJcblxyXG5SZW1vdmUgY29tbWFzIGZyb20gbnVtYmVycy4gVXNlIG51bGwgZm9yIGVtcHR5IGZpZWxkcy5gXHJcblxyXG4gIC8vIEJ1aWxkIHBhcnRzIHdpdGggaW1hZ2VzXHJcbiAgY29uc3QgcGFydHM6IGFueVtdID0gaW1hZ2VCYXNlNjRBcnJheS5tYXAoYmFzZTY0ID0+ICh7XHJcbiAgICBpbmxpbmVfZGF0YToge1xyXG4gICAgICBtaW1lX3R5cGU6ICdpbWFnZS9wbmcnLFxyXG4gICAgICBkYXRhOiBiYXNlNjQsXHJcbiAgICB9LFxyXG4gIH0pKVxyXG4gIHBhcnRzLnB1c2goeyB0ZXh0OiBwcm9tcHQgfSlcclxuXHJcbiAgLy8gVHJ5IG1vZGVscyBpbiBvcmRlciBvZiBwcmVmZXJlbmNlIChtb3JlIHN0YWJsZSBtb2RlbHMgZmlyc3QpXHJcbiAgY29uc3QgbW9kZWxzID0gWydnZW1pbmktMS41LWZsYXNoJywgJ2dlbWluaS0xLjUtcHJvJywgJ2dlbWluaS0yLjAtZmxhc2gtZXhwJ11cclxuICBsZXQgbGFzdEVycm9yID0gJydcclxuXHJcbiAgZm9yIChjb25zdCBtb2RlbCBvZiBtb2RlbHMpIHtcclxuICAgIGZvciAobGV0IGF0dGVtcHQgPSAxOyBhdHRlbXB0IDw9IDM7IGF0dGVtcHQrKykge1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXHJcbiAgICAgICAgICBgaHR0cHM6Ly9nZW5lcmF0aXZlbGFuZ3VhZ2UuZ29vZ2xlYXBpcy5jb20vdjFiZXRhL21vZGVscy8ke21vZGVsfTpnZW5lcmF0ZUNvbnRlbnQ/a2V5PSR7R0VNSU5JX0FQSV9LRVl9YCxcclxuICAgICAgICAgIHtcclxuICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxyXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICAgICAgY29udGVudHM6IFt7IHBhcnRzIH1dLFxyXG4gICAgICAgICAgICAgIGdlbmVyYXRpb25Db25maWc6IHtcclxuICAgICAgICAgICAgICAgIHRlbXBlcmF0dXJlOiAwLjEsXHJcbiAgICAgICAgICAgICAgICBtYXhPdXRwdXRUb2tlbnM6IDgxOTIsXHJcbiAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgKVxyXG5cclxuICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSA0MjkpIHtcclxuICAgICAgICAgIC8vIFJhdGUgbGltaXRlZCAtIHdhaXQgYW5kIHJldHJ5XHJcbiAgICAgICAgICBsYXN0RXJyb3IgPSAnUmF0ZSBsaW1pdCBleGNlZWRlZC4gV2FpdGluZyBiZWZvcmUgcmV0cnkuLi4nXHJcbiAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgYXR0ZW1wdCAqIDEwMDAwKSlcclxuICAgICAgICAgIGNvbnRpbnVlXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSA0MDQpIHtcclxuICAgICAgICAgIGxhc3RFcnJvciA9IGBNb2RlbCAke21vZGVsfSBub3QgZm91bmQgKDQwNCkuIFRyeWluZyBuZXh0IG1vZGVsLi4uYFxyXG4gICAgICAgICAgYnJlYWsgLy8gVHJ5IG5leHQgbW9kZWxcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcclxuICAgICAgICAgIGxldCBlcnJvclRleHQgPSBhd2FpdCByZXNwb25zZS50ZXh0KClcclxuICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGVycm9ySnNvbiA9IEpTT04ucGFyc2UoZXJyb3JUZXh0KVxyXG4gICAgICAgICAgICBpZiAoZXJyb3JKc29uLmVycm9yPy5tZXNzYWdlKSB7XHJcbiAgICAgICAgICAgICAgZXJyb3JUZXh0ID0gZXJyb3JKc29uLmVycm9yLm1lc3NhZ2VcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChlcnJvckpzb24uZXJyb3IpIHtcclxuICAgICAgICAgICAgICBlcnJvclRleHQgPSBKU09OLnN0cmluZ2lmeShlcnJvckpzb24uZXJyb3IpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0gY2F0Y2gge1xyXG4gICAgICAgICAgICAvLyBLZWVwIHRoZSBvcmlnaW5hbCBlcnJvciB0ZXh0IGlmIHBhcnNpbmcgZmFpbHNcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIFxyXG4gICAgICAgICAgLy8gSGFuZGxlIGNvbW1vbiBBUEkgZXJyb3JzXHJcbiAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSA0MDAgJiYgZXJyb3JUZXh0LmluY2x1ZGVzKCdBUElfS0VZX0lOVkFMSUQnKSkge1xyXG4gICAgICAgICAgICBsYXN0RXJyb3IgPSAnSW52YWxpZCBHZW1pbmkgQVBJIGtleS4gUGxlYXNlIGNoZWNrIHlvdXIgR0VNSU5JX0FQSV9LRVkgaW4gLmVudi5sb2NhbCdcclxuICAgICAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSA0MjkpIHtcclxuICAgICAgICAgICAgbGFzdEVycm9yID0gJ1JhdGUgbGltaXQgZXhjZWVkZWQuIFBsZWFzZSB0cnkgYWdhaW4gbGF0ZXIuJ1xyXG4gICAgICAgICAgfSBlbHNlIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDQwMykge1xyXG4gICAgICAgICAgICBsYXN0RXJyb3IgPSAnQVBJIGFjY2VzcyBmb3JiaWRkZW4uIENoZWNrIHlvdXIgQVBJIGtleSBwZXJtaXNzaW9ucy4nXHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBsYXN0RXJyb3IgPSBgQVBJIGVycm9yICgke3Jlc3BvbnNlLnN0YXR1c30pOiAke2Vycm9yVGV4dH1gXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBicmVha1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IGRhdGFcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKVxyXG4gICAgICAgIH0gY2F0Y2ggKGpzb25FcnJvcjogYW55KSB7XHJcbiAgICAgICAgICBsYXN0RXJyb3IgPSBgRmFpbGVkIHRvIHBhcnNlIEpTT04gcmVzcG9uc2U6ICR7anNvbkVycm9yLm1lc3NhZ2V9YFxyXG4gICAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIHBhcnNlIEdlbWluaSBBUEkgSlNPTiByZXNwb25zZTonLCBqc29uRXJyb3IpXHJcbiAgICAgICAgICBicmVha1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQ2hlY2sgZm9yIHNhZmV0eSBmaWx0ZXJzIG9yIGJsb2NrZWQgY29udGVudFxyXG4gICAgICAgIGlmIChkYXRhLmNhbmRpZGF0ZXM/LlswXT8uZmluaXNoUmVhc29uID09PSAnU0FGRVRZJykge1xyXG4gICAgICAgICAgbGFzdEVycm9yID0gJ0NvbnRlbnQgYmxvY2tlZCBieSBzYWZldHkgZmlsdGVycy4gVGhlIHN0YXRlbWVudCBtYXkgY29udGFpbiBzZW5zaXRpdmUgY29udGVudC4nXHJcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdHZW1pbmkgQVBJIGJsb2NrZWQgY29udGVudCBkdWUgdG8gc2FmZXR5IGZpbHRlcnMnKVxyXG4gICAgICAgICAgYnJlYWtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICghZGF0YS5jYW5kaWRhdGVzPy5bMF0/LmNvbnRlbnQ/LnBhcnRzPy5bMF0/LnRleHQpIHtcclxuICAgICAgICAgIGNvbnN0IGZpbmlzaFJlYXNvbiA9IGRhdGEuY2FuZGlkYXRlcz8uWzBdPy5maW5pc2hSZWFzb24gfHwgJ1VOS05PV04nXHJcbiAgICAgICAgICBsYXN0RXJyb3IgPSBgTm8gcmVzcG9uc2UgdGV4dCBmcm9tIEdlbWluaSBBUEkuIEZpbmlzaCByZWFzb246ICR7ZmluaXNoUmVhc29ufS4gVGhlIG1vZGVsIG1heSBoYXZlIGJlZW4gYmxvY2tlZCBvciB0aGUgcmVxdWVzdCBmb3JtYXQgaXMgaW52YWxpZC5gXHJcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdHZW1pbmkgQVBJIHJldHVybmVkIG5vIHRleHQuIFJlc3BvbnNlIGRhdGE6JywgSlNPTi5zdHJpbmdpZnkoZGF0YSkuc3Vic3RyaW5nKDAsIDUwMCkpXHJcbiAgICAgICAgICBicmVha1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgcmVzcG9uc2VUZXh0ID0gZGF0YS5jYW5kaWRhdGVzWzBdLmNvbnRlbnQucGFydHNbMF0udGV4dFxyXG4gICAgICAgIGNvbnN0IGpzb25NYXRjaCA9IHJlc3BvbnNlVGV4dC5tYXRjaCgvXFxbW1xcc1xcU10qXFxdLylcclxuICAgICAgICBcclxuICAgICAgICBpZiAoanNvbk1hdGNoKSB7XHJcbiAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShqc29uTWF0Y2hbMF0pXHJcbiAgICAgICAgICB9IGNhdGNoIChwYXJzZUVycm9yOiBhbnkpIHtcclxuICAgICAgICAgICAgbGFzdEVycm9yID0gYEZhaWxlZCB0byBwYXJzZSBKU09OIHJlc3BvbnNlOiAke3BhcnNlRXJyb3IubWVzc2FnZX0uIFJlc3BvbnNlOiAke3Jlc3BvbnNlVGV4dC5zdWJzdHJpbmcoMCwgMjAwKX1gXHJcbiAgICAgICAgICAgIGJyZWFrXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsYXN0RXJyb3IgPSAnTm8gdmFsaWQgSlNPTiBhcnJheSBmb3VuZCBpbiBHZW1pbmkgcmVzcG9uc2UuIFRoZSBtb2RlbCBtYXkgbm90IGhhdmUgZm9sbG93ZWQgdGhlIGZvcm1hdCBjb3JyZWN0bHkuJ1xyXG4gICAgICAgIGJyZWFrXHJcbiAgICAgIH0gY2F0Y2ggKGU6IGFueSkge1xyXG4gICAgICAgIGxhc3RFcnJvciA9IGBOZXR3b3JrIG9yIHBhcnNpbmcgZXJyb3I6ICR7ZS5tZXNzYWdlfWBcclxuICAgICAgICBjb25zb2xlLmVycm9yKGBHZW1pbmkgQVBJIGVycm9yIChtb2RlbDogJHttb2RlbH0sIGF0dGVtcHQ6ICR7YXR0ZW1wdH0pOmAsIGUubWVzc2FnZSlcclxuICAgICAgICBpZiAoYXR0ZW1wdCA8IDMpIHtcclxuICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCA1MDAwKSlcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGlmICghbGFzdEVycm9yKSB7XHJcbiAgICBsYXN0RXJyb3IgPSAnQWxsIHBhcnNpbmcgYXR0ZW1wdHMgZmFpbGVkLiBObyBlcnJvciBkZXRhaWxzIGNhcHR1cmVkLiBDaGVjayB5b3VyIEFQSSBrZXkgYW5kIG5ldHdvcmsgY29ubmVjdGlvbi4nXHJcbiAgfVxyXG5cclxuICBjb25zb2xlLmVycm9yKCdHZW1pbmkgcGFyc2luZyBmYWlsZWQgYWZ0ZXIgYWxsIGF0dGVtcHRzLiBMYXN0IGVycm9yOicsIGxhc3RFcnJvcilcclxuICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBwYXJzZSB3aXRoIEdlbWluaTogJHtsYXN0RXJyb3J9YClcclxufVxyXG4iXSwibmFtZXMiOlsiR0VNSU5JX0FQSV9LRVkiLCJwcm9jZXNzIiwiZW52IiwicGFyc2VTdGF0ZW1lbnRXaXRoR2VtaW5pIiwiaW1hZ2VCYXNlNjRBcnJheSIsIkVycm9yIiwicHJvbXB0IiwicGFydHMiLCJtYXAiLCJiYXNlNjQiLCJpbmxpbmVfZGF0YSIsIm1pbWVfdHlwZSIsImRhdGEiLCJwdXNoIiwidGV4dCIsIm1vZGVscyIsImxhc3RFcnJvciIsIm1vZGVsIiwiYXR0ZW1wdCIsInJlc3BvbnNlIiwiZmV0Y2giLCJtZXRob2QiLCJoZWFkZXJzIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJjb250ZW50cyIsImdlbmVyYXRpb25Db25maWciLCJ0ZW1wZXJhdHVyZSIsIm1heE91dHB1dFRva2VucyIsInN0YXR1cyIsIlByb21pc2UiLCJyZXNvbHZlIiwic2V0VGltZW91dCIsIm9rIiwiZXJyb3JUZXh0IiwiZXJyb3JKc29uIiwicGFyc2UiLCJlcnJvciIsIm1lc3NhZ2UiLCJpbmNsdWRlcyIsImpzb24iLCJqc29uRXJyb3IiLCJjb25zb2xlIiwiY2FuZGlkYXRlcyIsImZpbmlzaFJlYXNvbiIsImNvbnRlbnQiLCJzdWJzdHJpbmciLCJyZXNwb25zZVRleHQiLCJqc29uTWF0Y2giLCJtYXRjaCIsInBhcnNlRXJyb3IiLCJlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/gemini.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/pdf-to-images.ts":
/*!**********************************!*\
  !*** ./src/lib/pdf-to-images.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   convertPdfToImages: () => (/* binding */ convertPdfToImages)\n/* harmony export */ });\n/* harmony import */ var child_process__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! child_process */ \"child_process\");\n/* harmony import */ var child_process__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(child_process__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var util__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! util */ \"util\");\n/* harmony import */ var util__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(util__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var fs_promises__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! fs/promises */ \"fs/promises\");\n/* harmony import */ var fs_promises__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(fs_promises__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var os__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! os */ \"os\");\n/* harmony import */ var os__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(os__WEBPACK_IMPORTED_MODULE_4__);\n\n\n\n\n\nconst execAsync = (0,util__WEBPACK_IMPORTED_MODULE_1__.promisify)(child_process__WEBPACK_IMPORTED_MODULE_0__.exec);\nasync function convertPdfToImages(pdfBuffer, maxPages = 20, password) {\n    const tempDir = await fs_promises__WEBPACK_IMPORTED_MODULE_2___default().mkdtemp(path__WEBPACK_IMPORTED_MODULE_3___default().join(os__WEBPACK_IMPORTED_MODULE_4___default().tmpdir(), \"pdf-\"));\n    const pdfPath = path__WEBPACK_IMPORTED_MODULE_3___default().join(tempDir, \"input.pdf\");\n    try {\n        await fs_promises__WEBPACK_IMPORTED_MODULE_2___default().writeFile(pdfPath, pdfBuffer);\n        // Use Python with pdf2image\n        // Properly escape password for Python string (handle quotes, backslashes, newlines)\n        const pythonScript = `\r\nimport sys, json, base64, os\r\ntry:\r\n    from pdf2image import convert_from_path\r\nexcept ImportError:\r\n    print(\"INSTALL_NEEDED\")\r\n    sys.exit(0)\r\ntry:\r\n    pdf_path = \"${pdfPath.replace(/\\\\/g, \"\\\\\\\\\")}\"\r\n    ${password ? `password = ${JSON.stringify(password)}` : \"\"}\r\n    convert_params = {\r\n        \"dpi\": 150,\r\n        \"first_page\": 1,\r\n        \"last_page\": ${maxPages}${password ? ',\\n        \"userpw\": password' : \"\"}\r\n    }\r\n    images = convert_from_path(pdf_path, **convert_params)\r\n    result = []\r\n    for i, img in enumerate(images):\r\n        img_path = os.path.join(\"${tempDir.replace(/\\\\/g, \"\\\\\\\\\")}\", f\"page_{i}.png\")\r\n        img.save(img_path, \"PNG\")\r\n        with open(img_path, \"rb\") as f:\r\n            b64 = base64.b64encode(f.read()).decode(\"utf-8\")\r\n            result.append(b64)\r\n    print(\"SUCCESS:\" + json.dumps(result))\r\nexcept Exception as e:\r\n    print(\"ERROR:\" + str(e))\r\n`;\n        const scriptPath = path__WEBPACK_IMPORTED_MODULE_3___default().join(tempDir, \"convert.py\");\n        await fs_promises__WEBPACK_IMPORTED_MODULE_2___default().writeFile(scriptPath, pythonScript);\n        const pythonCmd = process.platform === \"win32\" ? \"python\" : \"python3\";\n        const { stdout } = await execAsync(`${pythonCmd} \"${scriptPath}\"`, {\n            maxBuffer: 100 * 1024 * 1024\n        });\n        if (stdout.includes(\"INSTALL_NEEDED\")) {\n            throw new Error(\"pdf2image not installed. Run: pip install pdf2image\");\n        }\n        if (stdout.includes(\"SUCCESS:\")) {\n            const jsonStr = stdout.substring(stdout.indexOf(\"SUCCESS:\") + 8);\n            return JSON.parse(jsonStr);\n        }\n        // Check for password-related errors\n        if (stdout.includes(\"Incorrect password\") || stdout.includes(\"password\") && stdout.includes(\"incorrect\")) {\n            throw new Error(\"PASSWORD_REQUIRED:Incorrect password. Please provide the correct password.\");\n        }\n        if (stdout.includes(\"encrypted\") && !password) {\n            throw new Error(\"PASSWORD_REQUIRED:This PDF is password-protected. Please provide the password.\");\n        }\n        throw new Error(`PDF conversion failed: ${stdout}`);\n    } finally{\n        // Cleanup temp files\n        try {\n            const files = await fs_promises__WEBPACK_IMPORTED_MODULE_2___default().readdir(tempDir);\n            await Promise.all(files.map((f)=>fs_promises__WEBPACK_IMPORTED_MODULE_2___default().unlink(path__WEBPACK_IMPORTED_MODULE_3___default().join(tempDir, f))));\n            await fs_promises__WEBPACK_IMPORTED_MODULE_2___default().rmdir(tempDir);\n        } catch (e) {}\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL3BkZi10by1pbWFnZXMudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBb0M7QUFDSjtBQUNKO0FBQ0w7QUFDSjtBQUVuQixNQUFNSyxZQUFZSiwrQ0FBU0EsQ0FBQ0QsK0NBQUlBO0FBRXpCLGVBQWVNLG1CQUFtQkMsU0FBaUIsRUFBRUMsV0FBVyxFQUFFLEVBQUVDLFFBQWlCO0lBQzFGLE1BQU1DLFVBQVUsTUFBTVIsMERBQVUsQ0FBQ0MsZ0RBQVMsQ0FBQ0MsZ0RBQVMsSUFBSTtJQUN4RCxNQUFNVSxVQUFVWCxnREFBUyxDQUFDTyxTQUFTO0lBRW5DLElBQUk7UUFDRixNQUFNUiw0REFBWSxDQUFDWSxTQUFTUDtRQUU1Qiw0QkFBNEI7UUFDNUIsb0ZBQW9GO1FBQ3BGLE1BQU1TLGVBQWUsQ0FBQzs7Ozs7Ozs7Z0JBUVYsRUFBRUYsUUFBUUcsT0FBTyxDQUFDLE9BQU8sUUFBUTtJQUM3QyxFQUFFUixXQUFXLENBQUMsV0FBVyxFQUFFUyxLQUFLQyxTQUFTLENBQUNWLFVBQVUsQ0FBQyxHQUFHLEdBQUc7Ozs7cUJBSTFDLEVBQUVELFNBQVMsRUFBRUMsV0FBVyxrQ0FBa0MsR0FBRzs7Ozs7aUNBS2pELEVBQUVDLFFBQVFPLE9BQU8sQ0FBQyxPQUFPLFFBQVE7Ozs7Ozs7O0FBUWxFLENBQUM7UUFFRyxNQUFNRyxhQUFhakIsZ0RBQVMsQ0FBQ08sU0FBUztRQUN0QyxNQUFNUiw0REFBWSxDQUFDa0IsWUFBWUo7UUFFL0IsTUFBTUssWUFBWUMsUUFBUUMsUUFBUSxLQUFLLFVBQVUsV0FBVztRQUM1RCxNQUFNLEVBQUVDLE1BQU0sRUFBRSxHQUFHLE1BQU1uQixVQUFVLENBQUMsRUFBRWdCLFVBQVUsRUFBRSxFQUFFRCxXQUFXLENBQUMsQ0FBQyxFQUFFO1lBQ2pFSyxXQUFXLE1BQU0sT0FBTztRQUMxQjtRQUVBLElBQUlELE9BQU9FLFFBQVEsQ0FBQyxtQkFBbUI7WUFDckMsTUFBTSxJQUFJQyxNQUFNO1FBQ2xCO1FBRUEsSUFBSUgsT0FBT0UsUUFBUSxDQUFDLGFBQWE7WUFDL0IsTUFBTUUsVUFBVUosT0FBT0ssU0FBUyxDQUFDTCxPQUFPTSxPQUFPLENBQUMsY0FBYztZQUM5RCxPQUFPWixLQUFLYSxLQUFLLENBQUNIO1FBQ3BCO1FBRUEsb0NBQW9DO1FBQ3BDLElBQUlKLE9BQU9FLFFBQVEsQ0FBQyx5QkFBMEJGLE9BQU9FLFFBQVEsQ0FBQyxlQUFlRixPQUFPRSxRQUFRLENBQUMsY0FBZTtZQUMxRyxNQUFNLElBQUlDLE1BQU07UUFDbEI7UUFDQSxJQUFJSCxPQUFPRSxRQUFRLENBQUMsZ0JBQWdCLENBQUNqQixVQUFVO1lBQzdDLE1BQU0sSUFBSWtCLE1BQU07UUFDbEI7UUFFQSxNQUFNLElBQUlBLE1BQU0sQ0FBQyx1QkFBdUIsRUFBRUgsT0FBTyxDQUFDO0lBQ3BELFNBQVU7UUFDUixxQkFBcUI7UUFDckIsSUFBSTtZQUNGLE1BQU1RLFFBQVEsTUFBTTlCLDBEQUFVLENBQUNRO1lBQy9CLE1BQU13QixRQUFRQyxHQUFHLENBQUNILE1BQU1JLEdBQUcsQ0FBQ0MsQ0FBQUEsSUFBS25DLHlEQUFTLENBQUNDLGdEQUFTLENBQUNPLFNBQVMyQjtZQUM5RCxNQUFNbkMsd0RBQVEsQ0FBQ1E7UUFDakIsRUFBRSxPQUFPOEIsR0FBRyxDQUFDO0lBQ2Y7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2ZpbmQtdGhhdC10cmFuc2FjdGlvbi8uL3NyYy9saWIvcGRmLXRvLWltYWdlcy50cz82YzljIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGV4ZWMgfSBmcm9tICdjaGlsZF9wcm9jZXNzJ1xyXG5pbXBvcnQgeyBwcm9taXNpZnkgfSBmcm9tICd1dGlsJ1xyXG5pbXBvcnQgZnMgZnJvbSAnZnMvcHJvbWlzZXMnXHJcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnXHJcbmltcG9ydCBvcyBmcm9tICdvcydcclxuXHJcbmNvbnN0IGV4ZWNBc3luYyA9IHByb21pc2lmeShleGVjKVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNvbnZlcnRQZGZUb0ltYWdlcyhwZGZCdWZmZXI6IEJ1ZmZlciwgbWF4UGFnZXMgPSAyMCwgcGFzc3dvcmQ/OiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZ1tdPiB7XHJcbiAgY29uc3QgdGVtcERpciA9IGF3YWl0IGZzLm1rZHRlbXAocGF0aC5qb2luKG9zLnRtcGRpcigpLCAncGRmLScpKVxyXG4gIGNvbnN0IHBkZlBhdGggPSBwYXRoLmpvaW4odGVtcERpciwgJ2lucHV0LnBkZicpXHJcbiAgXHJcbiAgdHJ5IHtcclxuICAgIGF3YWl0IGZzLndyaXRlRmlsZShwZGZQYXRoLCBwZGZCdWZmZXIpXHJcbiAgICBcclxuICAgIC8vIFVzZSBQeXRob24gd2l0aCBwZGYyaW1hZ2VcclxuICAgIC8vIFByb3Blcmx5IGVzY2FwZSBwYXNzd29yZCBmb3IgUHl0aG9uIHN0cmluZyAoaGFuZGxlIHF1b3RlcywgYmFja3NsYXNoZXMsIG5ld2xpbmVzKVxyXG4gICAgY29uc3QgcHl0aG9uU2NyaXB0ID0gYFxyXG5pbXBvcnQgc3lzLCBqc29uLCBiYXNlNjQsIG9zXHJcbnRyeTpcclxuICAgIGZyb20gcGRmMmltYWdlIGltcG9ydCBjb252ZXJ0X2Zyb21fcGF0aFxyXG5leGNlcHQgSW1wb3J0RXJyb3I6XHJcbiAgICBwcmludChcIklOU1RBTExfTkVFREVEXCIpXHJcbiAgICBzeXMuZXhpdCgwKVxyXG50cnk6XHJcbiAgICBwZGZfcGF0aCA9IFwiJHtwZGZQYXRoLnJlcGxhY2UoL1xcXFwvZywgJ1xcXFxcXFxcJyl9XCJcclxuICAgICR7cGFzc3dvcmQgPyBgcGFzc3dvcmQgPSAke0pTT04uc3RyaW5naWZ5KHBhc3N3b3JkKX1gIDogJyd9XHJcbiAgICBjb252ZXJ0X3BhcmFtcyA9IHtcclxuICAgICAgICBcImRwaVwiOiAxNTAsXHJcbiAgICAgICAgXCJmaXJzdF9wYWdlXCI6IDEsXHJcbiAgICAgICAgXCJsYXN0X3BhZ2VcIjogJHttYXhQYWdlc30ke3Bhc3N3b3JkID8gJyxcXG4gICAgICAgIFwidXNlcnB3XCI6IHBhc3N3b3JkJyA6ICcnfVxyXG4gICAgfVxyXG4gICAgaW1hZ2VzID0gY29udmVydF9mcm9tX3BhdGgocGRmX3BhdGgsICoqY29udmVydF9wYXJhbXMpXHJcbiAgICByZXN1bHQgPSBbXVxyXG4gICAgZm9yIGksIGltZyBpbiBlbnVtZXJhdGUoaW1hZ2VzKTpcclxuICAgICAgICBpbWdfcGF0aCA9IG9zLnBhdGguam9pbihcIiR7dGVtcERpci5yZXBsYWNlKC9cXFxcL2csICdcXFxcXFxcXCcpfVwiLCBmXCJwYWdlX3tpfS5wbmdcIilcclxuICAgICAgICBpbWcuc2F2ZShpbWdfcGF0aCwgXCJQTkdcIilcclxuICAgICAgICB3aXRoIG9wZW4oaW1nX3BhdGgsIFwicmJcIikgYXMgZjpcclxuICAgICAgICAgICAgYjY0ID0gYmFzZTY0LmI2NGVuY29kZShmLnJlYWQoKSkuZGVjb2RlKFwidXRmLThcIilcclxuICAgICAgICAgICAgcmVzdWx0LmFwcGVuZChiNjQpXHJcbiAgICBwcmludChcIlNVQ0NFU1M6XCIgKyBqc29uLmR1bXBzKHJlc3VsdCkpXHJcbmV4Y2VwdCBFeGNlcHRpb24gYXMgZTpcclxuICAgIHByaW50KFwiRVJST1I6XCIgKyBzdHIoZSkpXHJcbmBcclxuICAgIFxyXG4gICAgY29uc3Qgc2NyaXB0UGF0aCA9IHBhdGguam9pbih0ZW1wRGlyLCAnY29udmVydC5weScpXHJcbiAgICBhd2FpdCBmcy53cml0ZUZpbGUoc2NyaXB0UGF0aCwgcHl0aG9uU2NyaXB0KVxyXG4gICAgXHJcbiAgICBjb25zdCBweXRob25DbWQgPSBwcm9jZXNzLnBsYXRmb3JtID09PSAnd2luMzInID8gJ3B5dGhvbicgOiAncHl0aG9uMydcclxuICAgIGNvbnN0IHsgc3Rkb3V0IH0gPSBhd2FpdCBleGVjQXN5bmMoYCR7cHl0aG9uQ21kfSBcIiR7c2NyaXB0UGF0aH1cImAsIHtcclxuICAgICAgbWF4QnVmZmVyOiAxMDAgKiAxMDI0ICogMTAyNCxcclxuICAgIH0pXHJcbiAgICBcclxuICAgIGlmIChzdGRvdXQuaW5jbHVkZXMoJ0lOU1RBTExfTkVFREVEJykpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdwZGYyaW1hZ2Ugbm90IGluc3RhbGxlZC4gUnVuOiBwaXAgaW5zdGFsbCBwZGYyaW1hZ2UnKVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBpZiAoc3Rkb3V0LmluY2x1ZGVzKCdTVUNDRVNTOicpKSB7XHJcbiAgICAgIGNvbnN0IGpzb25TdHIgPSBzdGRvdXQuc3Vic3RyaW5nKHN0ZG91dC5pbmRleE9mKCdTVUNDRVNTOicpICsgOClcclxuICAgICAgcmV0dXJuIEpTT04ucGFyc2UoanNvblN0cilcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gQ2hlY2sgZm9yIHBhc3N3b3JkLXJlbGF0ZWQgZXJyb3JzXHJcbiAgICBpZiAoc3Rkb3V0LmluY2x1ZGVzKCdJbmNvcnJlY3QgcGFzc3dvcmQnKSB8fCAoc3Rkb3V0LmluY2x1ZGVzKCdwYXNzd29yZCcpICYmIHN0ZG91dC5pbmNsdWRlcygnaW5jb3JyZWN0JykpKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignUEFTU1dPUkRfUkVRVUlSRUQ6SW5jb3JyZWN0IHBhc3N3b3JkLiBQbGVhc2UgcHJvdmlkZSB0aGUgY29ycmVjdCBwYXNzd29yZC4nKVxyXG4gICAgfVxyXG4gICAgaWYgKHN0ZG91dC5pbmNsdWRlcygnZW5jcnlwdGVkJykgJiYgIXBhc3N3b3JkKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignUEFTU1dPUkRfUkVRVUlSRUQ6VGhpcyBQREYgaXMgcGFzc3dvcmQtcHJvdGVjdGVkLiBQbGVhc2UgcHJvdmlkZSB0aGUgcGFzc3dvcmQuJylcclxuICAgIH1cclxuICAgIFxyXG4gICAgdGhyb3cgbmV3IEVycm9yKGBQREYgY29udmVyc2lvbiBmYWlsZWQ6ICR7c3Rkb3V0fWApXHJcbiAgfSBmaW5hbGx5IHtcclxuICAgIC8vIENsZWFudXAgdGVtcCBmaWxlc1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgZmlsZXMgPSBhd2FpdCBmcy5yZWFkZGlyKHRlbXBEaXIpXHJcbiAgICAgIGF3YWl0IFByb21pc2UuYWxsKGZpbGVzLm1hcChmID0+IGZzLnVubGluayhwYXRoLmpvaW4odGVtcERpciwgZikpKSlcclxuICAgICAgYXdhaXQgZnMucm1kaXIodGVtcERpcilcclxuICAgIH0gY2F0Y2ggKGUpIHt9XHJcbiAgfVxyXG59XHJcbiJdLCJuYW1lcyI6WyJleGVjIiwicHJvbWlzaWZ5IiwiZnMiLCJwYXRoIiwib3MiLCJleGVjQXN5bmMiLCJjb252ZXJ0UGRmVG9JbWFnZXMiLCJwZGZCdWZmZXIiLCJtYXhQYWdlcyIsInBhc3N3b3JkIiwidGVtcERpciIsIm1rZHRlbXAiLCJqb2luIiwidG1wZGlyIiwicGRmUGF0aCIsIndyaXRlRmlsZSIsInB5dGhvblNjcmlwdCIsInJlcGxhY2UiLCJKU09OIiwic3RyaW5naWZ5Iiwic2NyaXB0UGF0aCIsInB5dGhvbkNtZCIsInByb2Nlc3MiLCJwbGF0Zm9ybSIsInN0ZG91dCIsIm1heEJ1ZmZlciIsImluY2x1ZGVzIiwiRXJyb3IiLCJqc29uU3RyIiwic3Vic3RyaW5nIiwiaW5kZXhPZiIsInBhcnNlIiwiZmlsZXMiLCJyZWFkZGlyIiwiUHJvbWlzZSIsImFsbCIsIm1hcCIsImYiLCJ1bmxpbmsiLCJybWRpciIsImUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/pdf-to-images.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@clerk","vendor-chunks/crypto-js","vendor-chunks/tslib","vendor-chunks/cookie","vendor-chunks/map-obj","vendor-chunks/no-case","vendor-chunks/lower-case","vendor-chunks/snakecase-keys","vendor-chunks/snake-case","vendor-chunks/dot-case","vendor-chunks/lodash","vendor-chunks/cloudinary","vendor-chunks/q"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fparse-statement%2Froute&page=%2Fapi%2Fparse-statement%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fparse-statement%2Froute.ts&appDir=C%3A%5CUsers%5CPtahb%5COneDrive%5CDocuments%5Cfind-that-transaction%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CPtahb%5COneDrive%5CDocuments%5Cfind-that-transaction&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();