"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/parse-statement/route";
exports.ids = ["app/api/parse-statement/route"];
exports.modules = {

/***/ "@prisma/client":
/*!*********************************!*\
  !*** external "@prisma/client" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("@prisma/client");

/***/ }),

/***/ "../../client/components/action-async-storage.external":
/*!*******************************************************************************!*\
  !*** external "next/dist/client/components/action-async-storage.external.js" ***!
  \*******************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/action-async-storage.external.js");

/***/ }),

/***/ "../../client/components/request-async-storage.external":
/*!********************************************************************************!*\
  !*** external "next/dist/client/components/request-async-storage.external.js" ***!
  \********************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/request-async-storage.external.js");

/***/ }),

/***/ "../../client/components/static-generation-async-storage.external":
/*!******************************************************************************************!*\
  !*** external "next/dist/client/components/static-generation-async-storage.external.js" ***!
  \******************************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/static-generation-async-storage.external.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "child_process":
/*!********************************!*\
  !*** external "child_process" ***!
  \********************************/
/***/ ((module) => {

module.exports = require("child_process");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "fs/promises":
/*!******************************!*\
  !*** external "fs/promises" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("fs/promises");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

module.exports = require("https");

/***/ }),

/***/ "node:async_hooks":
/*!***********************************!*\
  !*** external "node:async_hooks" ***!
  \***********************************/
/***/ ((module) => {

module.exports = require("node:async_hooks");

/***/ }),

/***/ "node:crypto":
/*!******************************!*\
  !*** external "node:crypto" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("node:crypto");

/***/ }),

/***/ "os":
/*!*********************!*\
  !*** external "os" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("os");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "querystring":
/*!******************************!*\
  !*** external "querystring" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("querystring");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stream");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("util");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fparse-statement%2Froute&page=%2Fapi%2Fparse-statement%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fparse-statement%2Froute.ts&appDir=C%3A%5CUsers%5CPtahb%5COneDrive%5CDocuments%5Cfind-that-transaction%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CPtahb%5COneDrive%5CDocuments%5Cfind-that-transaction&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fparse-statement%2Froute&page=%2Fapi%2Fparse-statement%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fparse-statement%2Froute.ts&appDir=C%3A%5CUsers%5CPtahb%5COneDrive%5CDocuments%5Cfind-that-transaction%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CPtahb%5COneDrive%5CDocuments%5Cfind-that-transaction&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_Ptahb_OneDrive_Documents_find_that_transaction_src_app_api_parse_statement_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/parse-statement/route.ts */ \"(rsc)/./src/app/api/parse-statement/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/parse-statement/route\",\n        pathname: \"/api/parse-statement\",\n        filename: \"route\",\n        bundlePath: \"app/api/parse-statement/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\Ptahb\\\\OneDrive\\\\Documents\\\\find-that-transaction\\\\src\\\\app\\\\api\\\\parse-statement\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Users_Ptahb_OneDrive_Documents_find_that_transaction_src_app_api_parse_statement_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/parse-statement/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZwYXJzZS1zdGF0ZW1lbnQlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRnBhcnNlLXN0YXRlbWVudCUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRnBhcnNlLXN0YXRlbWVudCUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNQdGFoYiU1Q09uZURyaXZlJTVDRG9jdW1lbnRzJTVDZmluZC10aGF0LXRyYW5zYWN0aW9uJTVDc3JjJTVDYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj1DJTNBJTVDVXNlcnMlNUNQdGFoYiU1Q09uZURyaXZlJTVDRG9jdW1lbnRzJTVDZmluZC10aGF0LXRyYW5zYWN0aW9uJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUNzRDtBQUNuSTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlFQUFpRTtBQUN6RTtBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ3VIOztBQUV2SCIsInNvdXJjZXMiOlsid2VicGFjazovL2ZpbmQtdGhhdC10cmFuc2FjdGlvbi8/ZmVmZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCJDOlxcXFxVc2Vyc1xcXFxQdGFoYlxcXFxPbmVEcml2ZVxcXFxEb2N1bWVudHNcXFxcZmluZC10aGF0LXRyYW5zYWN0aW9uXFxcXHNyY1xcXFxhcHBcXFxcYXBpXFxcXHBhcnNlLXN0YXRlbWVudFxcXFxyb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvcGFyc2Utc3RhdGVtZW50L3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvcGFyc2Utc3RhdGVtZW50XCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9wYXJzZS1zdGF0ZW1lbnQvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCJDOlxcXFxVc2Vyc1xcXFxQdGFoYlxcXFxPbmVEcml2ZVxcXFxEb2N1bWVudHNcXFxcZmluZC10aGF0LXRyYW5zYWN0aW9uXFxcXHNyY1xcXFxhcHBcXFxcYXBpXFxcXHBhcnNlLXN0YXRlbWVudFxcXFxyb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvcGFyc2Utc3RhdGVtZW50L3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fparse-statement%2Froute&page=%2Fapi%2Fparse-statement%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fparse-statement%2Froute.ts&appDir=C%3A%5CUsers%5CPtahb%5COneDrive%5CDocuments%5Cfind-that-transaction%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CPtahb%5COneDrive%5CDocuments%5Cfind-that-transaction&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/parse-statement/route.ts":
/*!**********************************************!*\
  !*** ./src/app/api/parse-statement/route.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _clerk_nextjs_server__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @clerk/nextjs/server */ \"(rsc)/./node_modules/@clerk/nextjs/dist/esm/app-router/server/auth.js\");\n/* harmony import */ var _clerk_nextjs_server__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @clerk/nextjs/server */ \"(rsc)/./node_modules/@clerk/nextjs/dist/esm/app-router/server/currentUser.js\");\n/* harmony import */ var _lib_db__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/db */ \"(rsc)/./src/lib/db.ts\");\n/* harmony import */ var _lib_cloudinary__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/cloudinary */ \"(rsc)/./src/lib/cloudinary.ts\");\n/* harmony import */ var _lib_pdf_to_images__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/pdf-to-images */ \"(rsc)/./src/lib/pdf-to-images.ts\");\n/* harmony import */ var _lib_gemini__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/lib/gemini */ \"(rsc)/./src/lib/gemini.ts\");\n\n\n\n\n\n\nasync function POST(request) {\n    try {\n        const { userId } = (0,_clerk_nextjs_server__WEBPACK_IMPORTED_MODULE_5__.auth)();\n        if (!userId) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Unauthorized\"\n            }, {\n                status: 401\n            });\n        }\n        // Get or create user in database\n        let dbUser = await _lib_db__WEBPACK_IMPORTED_MODULE_1__.db.user.findUnique({\n            where: {\n                clerkId: userId\n            }\n        });\n        if (!dbUser) {\n            const clerkUser = await (0,_clerk_nextjs_server__WEBPACK_IMPORTED_MODULE_6__.currentUser)();\n            dbUser = await _lib_db__WEBPACK_IMPORTED_MODULE_1__.db.user.create({\n                data: {\n                    clerkId: userId,\n                    email: clerkUser?.emailAddresses[0]?.emailAddress || \"\",\n                    firstName: clerkUser?.firstName,\n                    lastName: clerkUser?.lastName,\n                    imageUrl: clerkUser?.imageUrl\n                }\n            });\n        }\n        // Check usage limits\n        if (dbUser.plan === \"FREE\" && dbUser.statementsUsed >= dbUser.statementsLimit) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Limit reached\",\n                message: \"You have reached your monthly limit. Upgrade to Pro for unlimited statements.\"\n            }, {\n                status: 403\n            });\n        }\n        const formData = await request.formData();\n        const file = formData.get(\"file\");\n        if (!file || file.type !== \"application/pdf\") {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Invalid file\",\n                message: \"Please upload a PDF file\"\n            }, {\n                status: 400\n            });\n        }\n        // Convert file to buffer\n        const buffer = Buffer.from(await file.arrayBuffer());\n        // Upload to Cloudinary\n        const { url: fileUrl, publicId: filePublicId } = await (0,_lib_cloudinary__WEBPACK_IMPORTED_MODULE_2__.uploadPdf)(buffer, file.name);\n        // Create statement record\n        const statement = await _lib_db__WEBPACK_IMPORTED_MODULE_1__.db.statement.create({\n            data: {\n                userId: dbUser.id,\n                fileName: file.name,\n                fileUrl,\n                filePublicId,\n                fileSize: buffer.length,\n                status: \"PROCESSING\"\n            }\n        });\n        try {\n            // Convert PDF to images\n            const images = await (0,_lib_pdf_to_images__WEBPACK_IMPORTED_MODULE_3__.convertPdfToImages)(buffer);\n            // Update page count\n            await _lib_db__WEBPACK_IMPORTED_MODULE_1__.db.statement.update({\n                where: {\n                    id: statement.id\n                },\n                data: {\n                    pageCount: images.length\n                }\n            });\n            // Parse with Gemini AI\n            const transactions = await (0,_lib_gemini__WEBPACK_IMPORTED_MODULE_4__.parseStatementWithGemini)(images);\n            // Save transactions to database\n            if (transactions.length > 0) {\n                await _lib_db__WEBPACK_IMPORTED_MODULE_1__.db.transaction.createMany({\n                    data: transactions.map((t)=>({\n                            userId: dbUser.id,\n                            statementId: statement.id,\n                            date: t.date,\n                            description: t.description,\n                            debit: t.debit,\n                            credit: t.credit,\n                            balance: t.balance\n                        }))\n                });\n            }\n            // Update statement status\n            await _lib_db__WEBPACK_IMPORTED_MODULE_1__.db.statement.update({\n                where: {\n                    id: statement.id\n                },\n                data: {\n                    status: \"COMPLETED\"\n                }\n            });\n            // Increment usage\n            await _lib_db__WEBPACK_IMPORTED_MODULE_1__.db.user.update({\n                where: {\n                    id: dbUser.id\n                },\n                data: {\n                    statementsUsed: {\n                        increment: 1\n                    }\n                }\n            });\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: true,\n                statementId: statement.id,\n                transactions,\n                count: transactions.length,\n                message: `Successfully parsed ${transactions.length} transactions`\n            });\n        } catch (parseError) {\n            // Update statement with error\n            await _lib_db__WEBPACK_IMPORTED_MODULE_1__.db.statement.update({\n                where: {\n                    id: statement.id\n                },\n                data: {\n                    status: \"FAILED\",\n                    errorMessage: parseError.message\n                }\n            });\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Parse failed\",\n                message: parseError.message\n            }, {\n                status: 500\n            });\n        }\n    } catch (error) {\n        console.error(\"Parse error:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Server error\",\n            message: error.message\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9wYXJzZS1zdGF0ZW1lbnQvcm91dGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBdUQ7QUFDQztBQUMzQjtBQUNlO0FBQ1k7QUFDRDtBQUVoRCxlQUFlTyxLQUFLQyxPQUFvQjtJQUM3QyxJQUFJO1FBQ0YsTUFBTSxFQUFFQyxNQUFNLEVBQUUsR0FBR1IsMERBQUlBO1FBQ3ZCLElBQUksQ0FBQ1EsUUFBUTtZQUNYLE9BQU9ULHFEQUFZQSxDQUFDVSxJQUFJLENBQUM7Z0JBQUVDLE9BQU87WUFBZSxHQUFHO2dCQUFFQyxRQUFRO1lBQUk7UUFDcEU7UUFFQSxpQ0FBaUM7UUFDakMsSUFBSUMsU0FBUyxNQUFNVix1Q0FBRUEsQ0FBQ1csSUFBSSxDQUFDQyxVQUFVLENBQUM7WUFBRUMsT0FBTztnQkFBRUMsU0FBU1I7WUFBTztRQUFFO1FBRW5FLElBQUksQ0FBQ0ksUUFBUTtZQUNYLE1BQU1LLFlBQVksTUFBTWhCLGlFQUFXQTtZQUNuQ1csU0FBUyxNQUFNVix1Q0FBRUEsQ0FBQ1csSUFBSSxDQUFDSyxNQUFNLENBQUM7Z0JBQzVCQyxNQUFNO29CQUNKSCxTQUFTUjtvQkFDVFksT0FBT0gsV0FBV0ksY0FBYyxDQUFDLEVBQUUsRUFBRUMsZ0JBQWdCO29CQUNyREMsV0FBV04sV0FBV007b0JBQ3RCQyxVQUFVUCxXQUFXTztvQkFDckJDLFVBQVVSLFdBQVdRO2dCQUN2QjtZQUNGO1FBQ0Y7UUFFQSxxQkFBcUI7UUFDckIsSUFBSWIsT0FBT2MsSUFBSSxLQUFLLFVBQVVkLE9BQU9lLGNBQWMsSUFBSWYsT0FBT2dCLGVBQWUsRUFBRTtZQUM3RSxPQUFPN0IscURBQVlBLENBQUNVLElBQUksQ0FDdEI7Z0JBQUVDLE9BQU87Z0JBQWlCbUIsU0FBUztZQUFnRixHQUNuSDtnQkFBRWxCLFFBQVE7WUFBSTtRQUVsQjtRQUVBLE1BQU1tQixXQUFXLE1BQU12QixRQUFRdUIsUUFBUTtRQUN2QyxNQUFNQyxPQUFPRCxTQUFTRSxHQUFHLENBQUM7UUFFMUIsSUFBSSxDQUFDRCxRQUFRQSxLQUFLRSxJQUFJLEtBQUssbUJBQW1CO1lBQzVDLE9BQU9sQyxxREFBWUEsQ0FBQ1UsSUFBSSxDQUN0QjtnQkFBRUMsT0FBTztnQkFBZ0JtQixTQUFTO1lBQTJCLEdBQzdEO2dCQUFFbEIsUUFBUTtZQUFJO1FBRWxCO1FBRUEseUJBQXlCO1FBQ3pCLE1BQU11QixTQUFTQyxPQUFPQyxJQUFJLENBQUMsTUFBTUwsS0FBS00sV0FBVztRQUVqRCx1QkFBdUI7UUFDdkIsTUFBTSxFQUFFQyxLQUFLQyxPQUFPLEVBQUVDLFVBQVVDLFlBQVksRUFBRSxHQUFHLE1BQU10QywwREFBU0EsQ0FBQytCLFFBQVFILEtBQUtXLElBQUk7UUFFbEYsMEJBQTBCO1FBQzFCLE1BQU1DLFlBQVksTUFBTXpDLHVDQUFFQSxDQUFDeUMsU0FBUyxDQUFDekIsTUFBTSxDQUFDO1lBQzFDQyxNQUFNO2dCQUNKWCxRQUFRSSxPQUFPZ0MsRUFBRTtnQkFDakJDLFVBQVVkLEtBQUtXLElBQUk7Z0JBQ25CSDtnQkFDQUU7Z0JBQ0FLLFVBQVVaLE9BQU9hLE1BQU07Z0JBQ3ZCcEMsUUFBUTtZQUNWO1FBQ0Y7UUFFQSxJQUFJO1lBQ0Ysd0JBQXdCO1lBQ3hCLE1BQU1xQyxTQUFTLE1BQU01QyxzRUFBa0JBLENBQUM4QjtZQUV4QyxvQkFBb0I7WUFDcEIsTUFBTWhDLHVDQUFFQSxDQUFDeUMsU0FBUyxDQUFDTSxNQUFNLENBQUM7Z0JBQ3hCbEMsT0FBTztvQkFBRTZCLElBQUlELFVBQVVDLEVBQUU7Z0JBQUM7Z0JBQzFCekIsTUFBTTtvQkFBRStCLFdBQVdGLE9BQU9ELE1BQU07Z0JBQUM7WUFDbkM7WUFFQSx1QkFBdUI7WUFDdkIsTUFBTUksZUFBZSxNQUFNOUMscUVBQXdCQSxDQUFDMkM7WUFFcEQsZ0NBQWdDO1lBQ2hDLElBQUlHLGFBQWFKLE1BQU0sR0FBRyxHQUFHO2dCQUMzQixNQUFNN0MsdUNBQUVBLENBQUNrRCxXQUFXLENBQUNDLFVBQVUsQ0FBQztvQkFDOUJsQyxNQUFNZ0MsYUFBYUcsR0FBRyxDQUFDQyxDQUFBQSxJQUFNOzRCQUMzQi9DLFFBQVFJLE9BQVFnQyxFQUFFOzRCQUNsQlksYUFBYWIsVUFBVUMsRUFBRTs0QkFDekJhLE1BQU1GLEVBQUVFLElBQUk7NEJBQ1pDLGFBQWFILEVBQUVHLFdBQVc7NEJBQzFCQyxPQUFPSixFQUFFSSxLQUFLOzRCQUNkQyxRQUFRTCxFQUFFSyxNQUFNOzRCQUNoQkMsU0FBU04sRUFBRU0sT0FBTzt3QkFDcEI7Z0JBQ0Y7WUFDRjtZQUVBLDBCQUEwQjtZQUMxQixNQUFNM0QsdUNBQUVBLENBQUN5QyxTQUFTLENBQUNNLE1BQU0sQ0FBQztnQkFDeEJsQyxPQUFPO29CQUFFNkIsSUFBSUQsVUFBVUMsRUFBRTtnQkFBQztnQkFDMUJ6QixNQUFNO29CQUFFUixRQUFRO2dCQUFZO1lBQzlCO1lBRUEsa0JBQWtCO1lBQ2xCLE1BQU1ULHVDQUFFQSxDQUFDVyxJQUFJLENBQUNvQyxNQUFNLENBQUM7Z0JBQ25CbEMsT0FBTztvQkFBRTZCLElBQUloQyxPQUFPZ0MsRUFBRTtnQkFBQztnQkFDdkJ6QixNQUFNO29CQUFFUSxnQkFBZ0I7d0JBQUVtQyxXQUFXO29CQUFFO2dCQUFFO1lBQzNDO1lBRUEsT0FBTy9ELHFEQUFZQSxDQUFDVSxJQUFJLENBQUM7Z0JBQ3ZCc0QsU0FBUztnQkFDVFAsYUFBYWIsVUFBVUMsRUFBRTtnQkFDekJPO2dCQUNBYSxPQUFPYixhQUFhSixNQUFNO2dCQUMxQmxCLFNBQVMsQ0FBQyxvQkFBb0IsRUFBRXNCLGFBQWFKLE1BQU0sQ0FBQyxhQUFhLENBQUM7WUFDcEU7UUFFRixFQUFFLE9BQU9rQixZQUFpQjtZQUN4Qiw4QkFBOEI7WUFDOUIsTUFBTS9ELHVDQUFFQSxDQUFDeUMsU0FBUyxDQUFDTSxNQUFNLENBQUM7Z0JBQ3hCbEMsT0FBTztvQkFBRTZCLElBQUlELFVBQVVDLEVBQUU7Z0JBQUM7Z0JBQzFCekIsTUFBTTtvQkFDSlIsUUFBUTtvQkFDUnVELGNBQWNELFdBQVdwQyxPQUFPO2dCQUNsQztZQUNGO1lBRUEsT0FBTzlCLHFEQUFZQSxDQUFDVSxJQUFJLENBQ3RCO2dCQUFFQyxPQUFPO2dCQUFnQm1CLFNBQVNvQyxXQUFXcEMsT0FBTztZQUFDLEdBQ3JEO2dCQUFFbEIsUUFBUTtZQUFJO1FBRWxCO0lBRUYsRUFBRSxPQUFPRCxPQUFZO1FBQ25CeUQsUUFBUXpELEtBQUssQ0FBQyxnQkFBZ0JBO1FBQzlCLE9BQU9YLHFEQUFZQSxDQUFDVSxJQUFJLENBQ3RCO1lBQUVDLE9BQU87WUFBZ0JtQixTQUFTbkIsTUFBTW1CLE9BQU87UUFBQyxHQUNoRDtZQUFFbEIsUUFBUTtRQUFJO0lBRWxCO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9maW5kLXRoYXQtdHJhbnNhY3Rpb24vLi9zcmMvYXBwL2FwaS9wYXJzZS1zdGF0ZW1lbnQvcm91dGUudHM/ZTFhMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVxdWVzdCwgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInXG5pbXBvcnQgeyBhdXRoLCBjdXJyZW50VXNlciB9IGZyb20gJ0BjbGVyay9uZXh0anMvc2VydmVyJ1xuaW1wb3J0IHsgZGIgfSBmcm9tICdAL2xpYi9kYidcbmltcG9ydCB7IHVwbG9hZFBkZiB9IGZyb20gJ0AvbGliL2Nsb3VkaW5hcnknXG5pbXBvcnQgeyBjb252ZXJ0UGRmVG9JbWFnZXMgfSBmcm9tICdAL2xpYi9wZGYtdG8taW1hZ2VzJ1xuaW1wb3J0IHsgcGFyc2VTdGF0ZW1lbnRXaXRoR2VtaW5pIH0gZnJvbSAnQC9saWIvZ2VtaW5pJ1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUE9TVChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xuICB0cnkge1xuICAgIGNvbnN0IHsgdXNlcklkIH0gPSBhdXRoKClcbiAgICBpZiAoIXVzZXJJZCkge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICdVbmF1dGhvcml6ZWQnIH0sIHsgc3RhdHVzOiA0MDEgfSlcbiAgICB9XG5cbiAgICAvLyBHZXQgb3IgY3JlYXRlIHVzZXIgaW4gZGF0YWJhc2VcbiAgICBsZXQgZGJVc2VyID0gYXdhaXQgZGIudXNlci5maW5kVW5pcXVlKHsgd2hlcmU6IHsgY2xlcmtJZDogdXNlcklkIH0gfSlcbiAgICBcbiAgICBpZiAoIWRiVXNlcikge1xuICAgICAgY29uc3QgY2xlcmtVc2VyID0gYXdhaXQgY3VycmVudFVzZXIoKVxuICAgICAgZGJVc2VyID0gYXdhaXQgZGIudXNlci5jcmVhdGUoe1xuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgY2xlcmtJZDogdXNlcklkLFxuICAgICAgICAgIGVtYWlsOiBjbGVya1VzZXI/LmVtYWlsQWRkcmVzc2VzWzBdPy5lbWFpbEFkZHJlc3MgfHwgJycsXG4gICAgICAgICAgZmlyc3ROYW1lOiBjbGVya1VzZXI/LmZpcnN0TmFtZSxcbiAgICAgICAgICBsYXN0TmFtZTogY2xlcmtVc2VyPy5sYXN0TmFtZSxcbiAgICAgICAgICBpbWFnZVVybDogY2xlcmtVc2VyPy5pbWFnZVVybCxcbiAgICAgICAgfSxcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgdXNhZ2UgbGltaXRzXG4gICAgaWYgKGRiVXNlci5wbGFuID09PSAnRlJFRScgJiYgZGJVc2VyLnN0YXRlbWVudHNVc2VkID49IGRiVXNlci5zdGF0ZW1lbnRzTGltaXQpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgeyBlcnJvcjogJ0xpbWl0IHJlYWNoZWQnLCBtZXNzYWdlOiAnWW91IGhhdmUgcmVhY2hlZCB5b3VyIG1vbnRobHkgbGltaXQuIFVwZ3JhZGUgdG8gUHJvIGZvciB1bmxpbWl0ZWQgc3RhdGVtZW50cy4nIH0sXG4gICAgICAgIHsgc3RhdHVzOiA0MDMgfVxuICAgICAgKVxuICAgIH1cblxuICAgIGNvbnN0IGZvcm1EYXRhID0gYXdhaXQgcmVxdWVzdC5mb3JtRGF0YSgpXG4gICAgY29uc3QgZmlsZSA9IGZvcm1EYXRhLmdldCgnZmlsZScpIGFzIEZpbGVcblxuICAgIGlmICghZmlsZSB8fCBmaWxlLnR5cGUgIT09ICdhcHBsaWNhdGlvbi9wZGYnKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgZXJyb3I6ICdJbnZhbGlkIGZpbGUnLCBtZXNzYWdlOiAnUGxlYXNlIHVwbG9hZCBhIFBERiBmaWxlJyB9LFxuICAgICAgICB7IHN0YXR1czogNDAwIH1cbiAgICAgIClcbiAgICB9XG5cbiAgICAvLyBDb252ZXJ0IGZpbGUgdG8gYnVmZmVyXG4gICAgY29uc3QgYnVmZmVyID0gQnVmZmVyLmZyb20oYXdhaXQgZmlsZS5hcnJheUJ1ZmZlcigpKVxuXG4gICAgLy8gVXBsb2FkIHRvIENsb3VkaW5hcnlcbiAgICBjb25zdCB7IHVybDogZmlsZVVybCwgcHVibGljSWQ6IGZpbGVQdWJsaWNJZCB9ID0gYXdhaXQgdXBsb2FkUGRmKGJ1ZmZlciwgZmlsZS5uYW1lKVxuXG4gICAgLy8gQ3JlYXRlIHN0YXRlbWVudCByZWNvcmRcbiAgICBjb25zdCBzdGF0ZW1lbnQgPSBhd2FpdCBkYi5zdGF0ZW1lbnQuY3JlYXRlKHtcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgdXNlcklkOiBkYlVzZXIuaWQsXG4gICAgICAgIGZpbGVOYW1lOiBmaWxlLm5hbWUsXG4gICAgICAgIGZpbGVVcmwsXG4gICAgICAgIGZpbGVQdWJsaWNJZCxcbiAgICAgICAgZmlsZVNpemU6IGJ1ZmZlci5sZW5ndGgsXG4gICAgICAgIHN0YXR1czogJ1BST0NFU1NJTkcnLFxuICAgICAgfSxcbiAgICB9KVxuXG4gICAgdHJ5IHtcbiAgICAgIC8vIENvbnZlcnQgUERGIHRvIGltYWdlc1xuICAgICAgY29uc3QgaW1hZ2VzID0gYXdhaXQgY29udmVydFBkZlRvSW1hZ2VzKGJ1ZmZlcilcbiAgICAgIFxuICAgICAgLy8gVXBkYXRlIHBhZ2UgY291bnRcbiAgICAgIGF3YWl0IGRiLnN0YXRlbWVudC51cGRhdGUoe1xuICAgICAgICB3aGVyZTogeyBpZDogc3RhdGVtZW50LmlkIH0sXG4gICAgICAgIGRhdGE6IHsgcGFnZUNvdW50OiBpbWFnZXMubGVuZ3RoIH0sXG4gICAgICB9KVxuXG4gICAgICAvLyBQYXJzZSB3aXRoIEdlbWluaSBBSVxuICAgICAgY29uc3QgdHJhbnNhY3Rpb25zID0gYXdhaXQgcGFyc2VTdGF0ZW1lbnRXaXRoR2VtaW5pKGltYWdlcylcblxuICAgICAgLy8gU2F2ZSB0cmFuc2FjdGlvbnMgdG8gZGF0YWJhc2VcbiAgICAgIGlmICh0cmFuc2FjdGlvbnMubGVuZ3RoID4gMCkge1xuICAgICAgICBhd2FpdCBkYi50cmFuc2FjdGlvbi5jcmVhdGVNYW55KHtcbiAgICAgICAgICBkYXRhOiB0cmFuc2FjdGlvbnMubWFwKHQgPT4gKHtcbiAgICAgICAgICAgIHVzZXJJZDogZGJVc2VyIS5pZCxcbiAgICAgICAgICAgIHN0YXRlbWVudElkOiBzdGF0ZW1lbnQuaWQsXG4gICAgICAgICAgICBkYXRlOiB0LmRhdGUsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogdC5kZXNjcmlwdGlvbixcbiAgICAgICAgICAgIGRlYml0OiB0LmRlYml0LFxuICAgICAgICAgICAgY3JlZGl0OiB0LmNyZWRpdCxcbiAgICAgICAgICAgIGJhbGFuY2U6IHQuYmFsYW5jZSxcbiAgICAgICAgICB9KSksXG4gICAgICAgIH0pXG4gICAgICB9XG5cbiAgICAgIC8vIFVwZGF0ZSBzdGF0ZW1lbnQgc3RhdHVzXG4gICAgICBhd2FpdCBkYi5zdGF0ZW1lbnQudXBkYXRlKHtcbiAgICAgICAgd2hlcmU6IHsgaWQ6IHN0YXRlbWVudC5pZCB9LFxuICAgICAgICBkYXRhOiB7IHN0YXR1czogJ0NPTVBMRVRFRCcgfSxcbiAgICAgIH0pXG5cbiAgICAgIC8vIEluY3JlbWVudCB1c2FnZVxuICAgICAgYXdhaXQgZGIudXNlci51cGRhdGUoe1xuICAgICAgICB3aGVyZTogeyBpZDogZGJVc2VyLmlkIH0sXG4gICAgICAgIGRhdGE6IHsgc3RhdGVtZW50c1VzZWQ6IHsgaW5jcmVtZW50OiAxIH0gfSxcbiAgICAgIH0pXG5cbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIHN0YXRlbWVudElkOiBzdGF0ZW1lbnQuaWQsXG4gICAgICAgIHRyYW5zYWN0aW9ucyxcbiAgICAgICAgY291bnQ6IHRyYW5zYWN0aW9ucy5sZW5ndGgsXG4gICAgICAgIG1lc3NhZ2U6IGBTdWNjZXNzZnVsbHkgcGFyc2VkICR7dHJhbnNhY3Rpb25zLmxlbmd0aH0gdHJhbnNhY3Rpb25zYCxcbiAgICAgIH0pXG5cbiAgICB9IGNhdGNoIChwYXJzZUVycm9yOiBhbnkpIHtcbiAgICAgIC8vIFVwZGF0ZSBzdGF0ZW1lbnQgd2l0aCBlcnJvclxuICAgICAgYXdhaXQgZGIuc3RhdGVtZW50LnVwZGF0ZSh7XG4gICAgICAgIHdoZXJlOiB7IGlkOiBzdGF0ZW1lbnQuaWQgfSxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIHN0YXR1czogJ0ZBSUxFRCcsXG4gICAgICAgICAgZXJyb3JNZXNzYWdlOiBwYXJzZUVycm9yLm1lc3NhZ2UsXG4gICAgICAgIH0sXG4gICAgICB9KVxuXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgZXJyb3I6ICdQYXJzZSBmYWlsZWQnLCBtZXNzYWdlOiBwYXJzZUVycm9yLm1lc3NhZ2UgfSxcbiAgICAgICAgeyBzdGF0dXM6IDUwMCB9XG4gICAgICApXG4gICAgfVxuXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICBjb25zb2xlLmVycm9yKCdQYXJzZSBlcnJvcjonLCBlcnJvcilcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICB7IGVycm9yOiAnU2VydmVyIGVycm9yJywgbWVzc2FnZTogZXJyb3IubWVzc2FnZSB9LFxuICAgICAgeyBzdGF0dXM6IDUwMCB9XG4gICAgKVxuICB9XG59XG4iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwiYXV0aCIsImN1cnJlbnRVc2VyIiwiZGIiLCJ1cGxvYWRQZGYiLCJjb252ZXJ0UGRmVG9JbWFnZXMiLCJwYXJzZVN0YXRlbWVudFdpdGhHZW1pbmkiLCJQT1NUIiwicmVxdWVzdCIsInVzZXJJZCIsImpzb24iLCJlcnJvciIsInN0YXR1cyIsImRiVXNlciIsInVzZXIiLCJmaW5kVW5pcXVlIiwid2hlcmUiLCJjbGVya0lkIiwiY2xlcmtVc2VyIiwiY3JlYXRlIiwiZGF0YSIsImVtYWlsIiwiZW1haWxBZGRyZXNzZXMiLCJlbWFpbEFkZHJlc3MiLCJmaXJzdE5hbWUiLCJsYXN0TmFtZSIsImltYWdlVXJsIiwicGxhbiIsInN0YXRlbWVudHNVc2VkIiwic3RhdGVtZW50c0xpbWl0IiwibWVzc2FnZSIsImZvcm1EYXRhIiwiZmlsZSIsImdldCIsInR5cGUiLCJidWZmZXIiLCJCdWZmZXIiLCJmcm9tIiwiYXJyYXlCdWZmZXIiLCJ1cmwiLCJmaWxlVXJsIiwicHVibGljSWQiLCJmaWxlUHVibGljSWQiLCJuYW1lIiwic3RhdGVtZW50IiwiaWQiLCJmaWxlTmFtZSIsImZpbGVTaXplIiwibGVuZ3RoIiwiaW1hZ2VzIiwidXBkYXRlIiwicGFnZUNvdW50IiwidHJhbnNhY3Rpb25zIiwidHJhbnNhY3Rpb24iLCJjcmVhdGVNYW55IiwibWFwIiwidCIsInN0YXRlbWVudElkIiwiZGF0ZSIsImRlc2NyaXB0aW9uIiwiZGViaXQiLCJjcmVkaXQiLCJiYWxhbmNlIiwiaW5jcmVtZW50Iiwic3VjY2VzcyIsImNvdW50IiwicGFyc2VFcnJvciIsImVycm9yTWVzc2FnZSIsImNvbnNvbGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/parse-statement/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/cloudinary.ts":
/*!*******************************!*\
  !*** ./src/lib/cloudinary.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   cloudinary: () => (/* reexport safe */ cloudinary__WEBPACK_IMPORTED_MODULE_0__.v2),\n/* harmony export */   deletePdf: () => (/* binding */ deletePdf),\n/* harmony export */   uploadPdf: () => (/* binding */ uploadPdf)\n/* harmony export */ });\n/* harmony import */ var cloudinary__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! cloudinary */ \"(rsc)/./node_modules/cloudinary/cloudinary.js\");\n/* harmony import */ var cloudinary__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(cloudinary__WEBPACK_IMPORTED_MODULE_0__);\n\ncloudinary__WEBPACK_IMPORTED_MODULE_0__.v2.config({\n    cloud_name: process.env.CLOUDINARY_CLOUD_NAME,\n    api_key: process.env.CLOUDINARY_API_KEY,\n    api_secret: process.env.CLOUDINARY_API_SECRET\n});\nasync function uploadPdf(buffer, fileName) {\n    return new Promise((resolve, reject)=>{\n        const uploadStream = cloudinary__WEBPACK_IMPORTED_MODULE_0__.v2.uploader.upload_stream({\n            resource_type: \"raw\",\n            folder: \"find-that-transaction/statements\",\n            public_id: `${Date.now()}-${fileName.replace(\".pdf\", \"\")}`\n        }, (error, result)=>{\n            if (error) reject(error);\n            else resolve({\n                url: result.secure_url,\n                publicId: result.public_id\n            });\n        });\n        uploadStream.end(buffer);\n    });\n}\nasync function deletePdf(publicId) {\n    return cloudinary__WEBPACK_IMPORTED_MODULE_0__.v2.uploader.destroy(publicId, {\n        resource_type: \"raw\"\n    });\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL2Nsb3VkaW5hcnkudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBNkM7QUFFN0NDLDBDQUFVQSxDQUFDQyxNQUFNLENBQUM7SUFDaEJDLFlBQVlDLFFBQVFDLEdBQUcsQ0FBQ0MscUJBQXFCO0lBQzdDQyxTQUFTSCxRQUFRQyxHQUFHLENBQUNHLGtCQUFrQjtJQUN2Q0MsWUFBWUwsUUFBUUMsR0FBRyxDQUFDSyxxQkFBcUI7QUFDL0M7QUFFTyxlQUFlQyxVQUFVQyxNQUFjLEVBQUVDLFFBQWdCO0lBSTlELE9BQU8sSUFBSUMsUUFBUSxDQUFDQyxTQUFTQztRQUMzQixNQUFNQyxlQUFlaEIsMENBQVVBLENBQUNpQixRQUFRLENBQUNDLGFBQWEsQ0FDcEQ7WUFDRUMsZUFBZTtZQUNmQyxRQUFRO1lBQ1JDLFdBQVcsQ0FBQyxFQUFFQyxLQUFLQyxHQUFHLEdBQUcsQ0FBQyxFQUFFWCxTQUFTWSxPQUFPLENBQUMsUUFBUSxJQUFJLENBQUM7UUFDNUQsR0FDQSxDQUFDQyxPQUFPQztZQUNOLElBQUlELE9BQU9WLE9BQU9VO2lCQUNiWCxRQUFRO2dCQUNYYSxLQUFLRCxPQUFRRSxVQUFVO2dCQUN2QkMsVUFBVUgsT0FBUUwsU0FBUztZQUM3QjtRQUNGO1FBRUZMLGFBQWFjLEdBQUcsQ0FBQ25CO0lBQ25CO0FBQ0Y7QUFFTyxlQUFlb0IsVUFBVUYsUUFBZ0I7SUFDOUMsT0FBTzdCLDBDQUFVQSxDQUFDaUIsUUFBUSxDQUFDZSxPQUFPLENBQUNILFVBQVU7UUFBRVYsZUFBZTtJQUFNO0FBQ3RFO0FBRXFCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmluZC10aGF0LXRyYW5zYWN0aW9uLy4vc3JjL2xpYi9jbG91ZGluYXJ5LnRzP2UxZmEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdjIgYXMgY2xvdWRpbmFyeSB9IGZyb20gJ2Nsb3VkaW5hcnknXG5cbmNsb3VkaW5hcnkuY29uZmlnKHtcbiAgY2xvdWRfbmFtZTogcHJvY2Vzcy5lbnYuQ0xPVURJTkFSWV9DTE9VRF9OQU1FLFxuICBhcGlfa2V5OiBwcm9jZXNzLmVudi5DTE9VRElOQVJZX0FQSV9LRVksXG4gIGFwaV9zZWNyZXQ6IHByb2Nlc3MuZW52LkNMT1VESU5BUllfQVBJX1NFQ1JFVCxcbn0pXG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1cGxvYWRQZGYoYnVmZmVyOiBCdWZmZXIsIGZpbGVOYW1lOiBzdHJpbmcpOiBQcm9taXNlPHtcbiAgdXJsOiBzdHJpbmdcbiAgcHVibGljSWQ6IHN0cmluZ1xufT4ge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIGNvbnN0IHVwbG9hZFN0cmVhbSA9IGNsb3VkaW5hcnkudXBsb2FkZXIudXBsb2FkX3N0cmVhbShcbiAgICAgIHtcbiAgICAgICAgcmVzb3VyY2VfdHlwZTogJ3JhdycsXG4gICAgICAgIGZvbGRlcjogJ2ZpbmQtdGhhdC10cmFuc2FjdGlvbi9zdGF0ZW1lbnRzJyxcbiAgICAgICAgcHVibGljX2lkOiBgJHtEYXRlLm5vdygpfS0ke2ZpbGVOYW1lLnJlcGxhY2UoJy5wZGYnLCAnJyl9YCxcbiAgICAgIH0sXG4gICAgICAoZXJyb3IsIHJlc3VsdCkgPT4ge1xuICAgICAgICBpZiAoZXJyb3IpIHJlamVjdChlcnJvcilcbiAgICAgICAgZWxzZSByZXNvbHZlKHtcbiAgICAgICAgICB1cmw6IHJlc3VsdCEuc2VjdXJlX3VybCxcbiAgICAgICAgICBwdWJsaWNJZDogcmVzdWx0IS5wdWJsaWNfaWQsXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgKVxuICAgIHVwbG9hZFN0cmVhbS5lbmQoYnVmZmVyKVxuICB9KVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGVsZXRlUGRmKHB1YmxpY0lkOiBzdHJpbmcpIHtcbiAgcmV0dXJuIGNsb3VkaW5hcnkudXBsb2FkZXIuZGVzdHJveShwdWJsaWNJZCwgeyByZXNvdXJjZV90eXBlOiAncmF3JyB9KVxufVxuXG5leHBvcnQgeyBjbG91ZGluYXJ5IH1cbiJdLCJuYW1lcyI6WyJ2MiIsImNsb3VkaW5hcnkiLCJjb25maWciLCJjbG91ZF9uYW1lIiwicHJvY2VzcyIsImVudiIsIkNMT1VESU5BUllfQ0xPVURfTkFNRSIsImFwaV9rZXkiLCJDTE9VRElOQVJZX0FQSV9LRVkiLCJhcGlfc2VjcmV0IiwiQ0xPVURJTkFSWV9BUElfU0VDUkVUIiwidXBsb2FkUGRmIiwiYnVmZmVyIiwiZmlsZU5hbWUiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsInVwbG9hZFN0cmVhbSIsInVwbG9hZGVyIiwidXBsb2FkX3N0cmVhbSIsInJlc291cmNlX3R5cGUiLCJmb2xkZXIiLCJwdWJsaWNfaWQiLCJEYXRlIiwibm93IiwicmVwbGFjZSIsImVycm9yIiwicmVzdWx0IiwidXJsIiwic2VjdXJlX3VybCIsInB1YmxpY0lkIiwiZW5kIiwiZGVsZXRlUGRmIiwiZGVzdHJveSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/cloudinary.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/db.ts":
/*!***********************!*\
  !*** ./src/lib/db.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   db: () => (/* binding */ db)\n/* harmony export */ });\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_0__);\n\nconst globalForPrisma = globalThis;\nconst db = globalForPrisma.prisma ?? new _prisma_client__WEBPACK_IMPORTED_MODULE_0__.PrismaClient();\nif (true) globalForPrisma.prisma = db;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL2RiLnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUE2QztBQUU3QyxNQUFNQyxrQkFBa0JDO0FBSWpCLE1BQU1DLEtBQUtGLGdCQUFnQkcsTUFBTSxJQUFJLElBQUlKLHdEQUFZQSxHQUFFO0FBRTlELElBQUlLLElBQXlCLEVBQWNKLGdCQUFnQkcsTUFBTSxHQUFHRCIsInNvdXJjZXMiOlsid2VicGFjazovL2ZpbmQtdGhhdC10cmFuc2FjdGlvbi8uL3NyYy9saWIvZGIudHM/OWU0ZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQcmlzbWFDbGllbnQgfSBmcm9tICdAcHJpc21hL2NsaWVudCdcblxuY29uc3QgZ2xvYmFsRm9yUHJpc21hID0gZ2xvYmFsVGhpcyBhcyB1bmtub3duIGFzIHtcbiAgcHJpc21hOiBQcmlzbWFDbGllbnQgfCB1bmRlZmluZWRcbn1cblxuZXhwb3J0IGNvbnN0IGRiID0gZ2xvYmFsRm9yUHJpc21hLnByaXNtYSA/PyBuZXcgUHJpc21hQ2xpZW50KClcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIGdsb2JhbEZvclByaXNtYS5wcmlzbWEgPSBkYlxuIl0sIm5hbWVzIjpbIlByaXNtYUNsaWVudCIsImdsb2JhbEZvclByaXNtYSIsImdsb2JhbFRoaXMiLCJkYiIsInByaXNtYSIsInByb2Nlc3MiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/db.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/gemini.ts":
/*!***************************!*\
  !*** ./src/lib/gemini.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   parseStatementWithGemini: () => (/* binding */ parseStatementWithGemini)\n/* harmony export */ });\nconst GEMINI_API_KEY = process.env.GEMINI_API_KEY;\nasync function parseStatementWithGemini(imageBase64Array) {\n    if (!GEMINI_API_KEY) {\n        throw new Error(\"GEMINI_API_KEY not configured\");\n    }\n    const prompt = `Extract ALL transactions from this bank statement. For each transaction provide:\n- date (original format)\n- description (full text)\n- debit (money out as number, or null)\n- credit (money in as number, or null)\n- balance (as number, or null)\n\nReturn ONLY a valid JSON array, no other text. Example:\n[{\"date\":\"01-03-2025\",\"description\":\"ATM WITHDRAWAL\",\"debit\":5000,\"credit\":null,\"balance\":45000}]\n\nRemove commas from numbers. Use null for empty fields.`;\n    // Build parts with images\n    const parts = imageBase64Array.map((base64)=>({\n            inline_data: {\n                mime_type: \"image/png\",\n                data: base64\n            }\n        }));\n    parts.push({\n        text: prompt\n    });\n    const models = [\n        \"gemini-2.0-flash-exp\",\n        \"gemini-1.5-flash\"\n    ];\n    let lastError = \"\";\n    for (const model of models){\n        for(let attempt = 1; attempt <= 3; attempt++){\n            try {\n                const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/${model}:generateContent?key=${GEMINI_API_KEY}`, {\n                    method: \"POST\",\n                    headers: {\n                        \"Content-Type\": \"application/json\"\n                    },\n                    body: JSON.stringify({\n                        contents: [\n                            {\n                                parts\n                            }\n                        ],\n                        generationConfig: {\n                            temperature: 0.1,\n                            maxOutputTokens: 8192\n                        }\n                    })\n                });\n                if (response.status === 429) {\n                    // Rate limited - wait and retry\n                    await new Promise((resolve)=>setTimeout(resolve, attempt * 10000));\n                    continue;\n                }\n                if (response.status === 404) {\n                    break; // Try next model\n                }\n                if (!response.ok) {\n                    const error = await response.text();\n                    lastError = error;\n                    break;\n                }\n                const data = await response.json();\n                if (!data.candidates?.[0]?.content?.parts?.[0]?.text) {\n                    break;\n                }\n                const responseText = data.candidates[0].content.parts[0].text;\n                const jsonMatch = responseText.match(/\\[[\\s\\S]*\\]/);\n                if (jsonMatch) {\n                    return JSON.parse(jsonMatch[0]);\n                }\n                break;\n            } catch (e) {\n                lastError = e.message;\n                if (attempt < 3) {\n                    await new Promise((resolve)=>setTimeout(resolve, 5000));\n                }\n            }\n        }\n    }\n    throw new Error(`Failed to parse with Gemini: ${lastError}`);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL2dlbWluaS50cyIsIm1hcHBpbmdzIjoiOzs7O0FBQUEsTUFBTUEsaUJBQWlCQyxRQUFRQyxHQUFHLENBQUNGLGNBQWM7QUFVMUMsZUFBZUcseUJBQXlCQyxnQkFBMEI7SUFDdkUsSUFBSSxDQUFDSixnQkFBZ0I7UUFDbkIsTUFBTSxJQUFJSyxNQUFNO0lBQ2xCO0lBRUEsTUFBTUMsU0FBUyxDQUFDOzs7Ozs7Ozs7O3NEQVVvQyxDQUFDO0lBRXJELDBCQUEwQjtJQUMxQixNQUFNQyxRQUFlSCxpQkFBaUJJLEdBQUcsQ0FBQ0MsQ0FBQUEsU0FBVztZQUNuREMsYUFBYTtnQkFDWEMsV0FBVztnQkFDWEMsTUFBTUg7WUFDUjtRQUNGO0lBQ0FGLE1BQU1NLElBQUksQ0FBQztRQUFFQyxNQUFNUjtJQUFPO0lBRTFCLE1BQU1TLFNBQVM7UUFBQztRQUF3QjtLQUFtQjtJQUMzRCxJQUFJQyxZQUFZO0lBRWhCLEtBQUssTUFBTUMsU0FBU0YsT0FBUTtRQUMxQixJQUFLLElBQUlHLFVBQVUsR0FBR0EsV0FBVyxHQUFHQSxVQUFXO1lBQzdDLElBQUk7Z0JBQ0YsTUFBTUMsV0FBVyxNQUFNQyxNQUNyQixDQUFDLHdEQUF3RCxFQUFFSCxNQUFNLHFCQUFxQixFQUFFakIsZUFBZSxDQUFDLEVBQ3hHO29CQUNFcUIsUUFBUTtvQkFDUkMsU0FBUzt3QkFBRSxnQkFBZ0I7b0JBQW1CO29CQUM5Q0MsTUFBTUMsS0FBS0MsU0FBUyxDQUFDO3dCQUNuQkMsVUFBVTs0QkFBQztnQ0FBRW5COzRCQUFNO3lCQUFFO3dCQUNyQm9CLGtCQUFrQjs0QkFDaEJDLGFBQWE7NEJBQ2JDLGlCQUFpQjt3QkFDbkI7b0JBQ0Y7Z0JBQ0Y7Z0JBR0YsSUFBSVYsU0FBU1csTUFBTSxLQUFLLEtBQUs7b0JBQzNCLGdDQUFnQztvQkFDaEMsTUFBTSxJQUFJQyxRQUFRQyxDQUFBQSxVQUFXQyxXQUFXRCxTQUFTZCxVQUFVO29CQUMzRDtnQkFDRjtnQkFFQSxJQUFJQyxTQUFTVyxNQUFNLEtBQUssS0FBSztvQkFDM0IsT0FBTSxpQkFBaUI7Z0JBQ3pCO2dCQUVBLElBQUksQ0FBQ1gsU0FBU2UsRUFBRSxFQUFFO29CQUNoQixNQUFNQyxRQUFRLE1BQU1oQixTQUFTTCxJQUFJO29CQUNqQ0UsWUFBWW1CO29CQUNaO2dCQUNGO2dCQUVBLE1BQU12QixPQUFPLE1BQU1PLFNBQVNpQixJQUFJO2dCQUVoQyxJQUFJLENBQUN4QixLQUFLeUIsVUFBVSxFQUFFLENBQUMsRUFBRSxFQUFFQyxTQUFTL0IsT0FBTyxDQUFDLEVBQUUsRUFBRU8sTUFBTTtvQkFDcEQ7Z0JBQ0Y7Z0JBRUEsTUFBTXlCLGVBQWUzQixLQUFLeUIsVUFBVSxDQUFDLEVBQUUsQ0FBQ0MsT0FBTyxDQUFDL0IsS0FBSyxDQUFDLEVBQUUsQ0FBQ08sSUFBSTtnQkFDN0QsTUFBTTBCLFlBQVlELGFBQWFFLEtBQUssQ0FBQztnQkFFckMsSUFBSUQsV0FBVztvQkFDYixPQUFPaEIsS0FBS2tCLEtBQUssQ0FBQ0YsU0FBUyxDQUFDLEVBQUU7Z0JBQ2hDO2dCQUVBO1lBQ0YsRUFBRSxPQUFPRyxHQUFRO2dCQUNmM0IsWUFBWTJCLEVBQUVDLE9BQU87Z0JBQ3JCLElBQUkxQixVQUFVLEdBQUc7b0JBQ2YsTUFBTSxJQUFJYSxRQUFRQyxDQUFBQSxVQUFXQyxXQUFXRCxTQUFTO2dCQUNuRDtZQUNGO1FBQ0Y7SUFDRjtJQUVBLE1BQU0sSUFBSTNCLE1BQU0sQ0FBQyw2QkFBNkIsRUFBRVcsVUFBVSxDQUFDO0FBQzdEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmluZC10aGF0LXRyYW5zYWN0aW9uLy4vc3JjL2xpYi9nZW1pbmkudHM/OTk0ZiJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBHRU1JTklfQVBJX0tFWSA9IHByb2Nlc3MuZW52LkdFTUlOSV9BUElfS0VZXG5cbmludGVyZmFjZSBUcmFuc2FjdGlvbiB7XG4gIGRhdGU6IHN0cmluZ1xuICBkZXNjcmlwdGlvbjogc3RyaW5nXG4gIGRlYml0OiBudW1iZXIgfCBudWxsXG4gIGNyZWRpdDogbnVtYmVyIHwgbnVsbFxuICBiYWxhbmNlOiBudW1iZXIgfCBudWxsXG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBwYXJzZVN0YXRlbWVudFdpdGhHZW1pbmkoaW1hZ2VCYXNlNjRBcnJheTogc3RyaW5nW10pOiBQcm9taXNlPFRyYW5zYWN0aW9uW10+IHtcbiAgaWYgKCFHRU1JTklfQVBJX0tFWSkge1xuICAgIHRocm93IG5ldyBFcnJvcignR0VNSU5JX0FQSV9LRVkgbm90IGNvbmZpZ3VyZWQnKVxuICB9XG5cbiAgY29uc3QgcHJvbXB0ID0gYEV4dHJhY3QgQUxMIHRyYW5zYWN0aW9ucyBmcm9tIHRoaXMgYmFuayBzdGF0ZW1lbnQuIEZvciBlYWNoIHRyYW5zYWN0aW9uIHByb3ZpZGU6XG4tIGRhdGUgKG9yaWdpbmFsIGZvcm1hdClcbi0gZGVzY3JpcHRpb24gKGZ1bGwgdGV4dClcbi0gZGViaXQgKG1vbmV5IG91dCBhcyBudW1iZXIsIG9yIG51bGwpXG4tIGNyZWRpdCAobW9uZXkgaW4gYXMgbnVtYmVyLCBvciBudWxsKVxuLSBiYWxhbmNlIChhcyBudW1iZXIsIG9yIG51bGwpXG5cblJldHVybiBPTkxZIGEgdmFsaWQgSlNPTiBhcnJheSwgbm8gb3RoZXIgdGV4dC4gRXhhbXBsZTpcblt7XCJkYXRlXCI6XCIwMS0wMy0yMDI1XCIsXCJkZXNjcmlwdGlvblwiOlwiQVRNIFdJVEhEUkFXQUxcIixcImRlYml0XCI6NTAwMCxcImNyZWRpdFwiOm51bGwsXCJiYWxhbmNlXCI6NDUwMDB9XVxuXG5SZW1vdmUgY29tbWFzIGZyb20gbnVtYmVycy4gVXNlIG51bGwgZm9yIGVtcHR5IGZpZWxkcy5gXG5cbiAgLy8gQnVpbGQgcGFydHMgd2l0aCBpbWFnZXNcbiAgY29uc3QgcGFydHM6IGFueVtdID0gaW1hZ2VCYXNlNjRBcnJheS5tYXAoYmFzZTY0ID0+ICh7XG4gICAgaW5saW5lX2RhdGE6IHtcbiAgICAgIG1pbWVfdHlwZTogJ2ltYWdlL3BuZycsXG4gICAgICBkYXRhOiBiYXNlNjQsXG4gICAgfSxcbiAgfSkpXG4gIHBhcnRzLnB1c2goeyB0ZXh0OiBwcm9tcHQgfSlcblxuICBjb25zdCBtb2RlbHMgPSBbJ2dlbWluaS0yLjAtZmxhc2gtZXhwJywgJ2dlbWluaS0xLjUtZmxhc2gnXVxuICBsZXQgbGFzdEVycm9yID0gJydcblxuICBmb3IgKGNvbnN0IG1vZGVsIG9mIG1vZGVscykge1xuICAgIGZvciAobGV0IGF0dGVtcHQgPSAxOyBhdHRlbXB0IDw9IDM7IGF0dGVtcHQrKykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcbiAgICAgICAgICBgaHR0cHM6Ly9nZW5lcmF0aXZlbGFuZ3VhZ2UuZ29vZ2xlYXBpcy5jb20vdjFiZXRhL21vZGVscy8ke21vZGVsfTpnZW5lcmF0ZUNvbnRlbnQ/a2V5PSR7R0VNSU5JX0FQSV9LRVl9YCxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICBjb250ZW50czogW3sgcGFydHMgfV0sXG4gICAgICAgICAgICAgIGdlbmVyYXRpb25Db25maWc6IHtcbiAgICAgICAgICAgICAgICB0ZW1wZXJhdHVyZTogMC4xLFxuICAgICAgICAgICAgICAgIG1heE91dHB1dFRva2VuczogODE5MixcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgIH1cbiAgICAgICAgKVxuXG4gICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDQyOSkge1xuICAgICAgICAgIC8vIFJhdGUgbGltaXRlZCAtIHdhaXQgYW5kIHJldHJ5XG4gICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIGF0dGVtcHQgKiAxMDAwMCkpXG4gICAgICAgICAgY29udGludWVcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDQwNCkge1xuICAgICAgICAgIGJyZWFrIC8vIFRyeSBuZXh0IG1vZGVsXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgY29uc3QgZXJyb3IgPSBhd2FpdCByZXNwb25zZS50ZXh0KClcbiAgICAgICAgICBsYXN0RXJyb3IgPSBlcnJvclxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpXG5cbiAgICAgICAgaWYgKCFkYXRhLmNhbmRpZGF0ZXM/LlswXT8uY29udGVudD8ucGFydHM/LlswXT8udGV4dCkge1xuICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCByZXNwb25zZVRleHQgPSBkYXRhLmNhbmRpZGF0ZXNbMF0uY29udGVudC5wYXJ0c1swXS50ZXh0XG4gICAgICAgIGNvbnN0IGpzb25NYXRjaCA9IHJlc3BvbnNlVGV4dC5tYXRjaCgvXFxbW1xcc1xcU10qXFxdLylcbiAgICAgICAgXG4gICAgICAgIGlmIChqc29uTWF0Y2gpIHtcbiAgICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShqc29uTWF0Y2hbMF0pXG4gICAgICAgIH1cblxuICAgICAgICBicmVha1xuICAgICAgfSBjYXRjaCAoZTogYW55KSB7XG4gICAgICAgIGxhc3RFcnJvciA9IGUubWVzc2FnZVxuICAgICAgICBpZiAoYXR0ZW1wdCA8IDMpIHtcbiAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgNTAwMCkpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBwYXJzZSB3aXRoIEdlbWluaTogJHtsYXN0RXJyb3J9YClcbn1cbiJdLCJuYW1lcyI6WyJHRU1JTklfQVBJX0tFWSIsInByb2Nlc3MiLCJlbnYiLCJwYXJzZVN0YXRlbWVudFdpdGhHZW1pbmkiLCJpbWFnZUJhc2U2NEFycmF5IiwiRXJyb3IiLCJwcm9tcHQiLCJwYXJ0cyIsIm1hcCIsImJhc2U2NCIsImlubGluZV9kYXRhIiwibWltZV90eXBlIiwiZGF0YSIsInB1c2giLCJ0ZXh0IiwibW9kZWxzIiwibGFzdEVycm9yIiwibW9kZWwiLCJhdHRlbXB0IiwicmVzcG9uc2UiLCJmZXRjaCIsIm1ldGhvZCIsImhlYWRlcnMiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImNvbnRlbnRzIiwiZ2VuZXJhdGlvbkNvbmZpZyIsInRlbXBlcmF0dXJlIiwibWF4T3V0cHV0VG9rZW5zIiwic3RhdHVzIiwiUHJvbWlzZSIsInJlc29sdmUiLCJzZXRUaW1lb3V0Iiwib2siLCJlcnJvciIsImpzb24iLCJjYW5kaWRhdGVzIiwiY29udGVudCIsInJlc3BvbnNlVGV4dCIsImpzb25NYXRjaCIsIm1hdGNoIiwicGFyc2UiLCJlIiwibWVzc2FnZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/gemini.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/pdf-to-images.ts":
/*!**********************************!*\
  !*** ./src/lib/pdf-to-images.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   convertPdfToImages: () => (/* binding */ convertPdfToImages)\n/* harmony export */ });\n/* harmony import */ var child_process__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! child_process */ \"child_process\");\n/* harmony import */ var child_process__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(child_process__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var util__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! util */ \"util\");\n/* harmony import */ var util__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(util__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var fs_promises__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! fs/promises */ \"fs/promises\");\n/* harmony import */ var fs_promises__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(fs_promises__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var os__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! os */ \"os\");\n/* harmony import */ var os__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(os__WEBPACK_IMPORTED_MODULE_4__);\n\n\n\n\n\nconst execAsync = (0,util__WEBPACK_IMPORTED_MODULE_1__.promisify)(child_process__WEBPACK_IMPORTED_MODULE_0__.exec);\nasync function convertPdfToImages(pdfBuffer, maxPages = 20) {\n    const tempDir = await fs_promises__WEBPACK_IMPORTED_MODULE_2___default().mkdtemp(path__WEBPACK_IMPORTED_MODULE_3___default().join(os__WEBPACK_IMPORTED_MODULE_4___default().tmpdir(), \"pdf-\"));\n    const pdfPath = path__WEBPACK_IMPORTED_MODULE_3___default().join(tempDir, \"input.pdf\");\n    try {\n        await fs_promises__WEBPACK_IMPORTED_MODULE_2___default().writeFile(pdfPath, pdfBuffer);\n        // Use Python with pdf2image\n        const pythonScript = `\nimport sys, json, base64, os\ntry:\n    from pdf2image import convert_from_path\nexcept ImportError:\n    print(\"INSTALL_NEEDED\")\n    sys.exit(0)\ntry:\n    images = convert_from_path(\"${pdfPath.replace(/\\\\/g, \"\\\\\\\\\")}\", dpi=150, first_page=1, last_page=${maxPages})\n    result = []\n    for i, img in enumerate(images):\n        img_path = os.path.join(\"${tempDir.replace(/\\\\/g, \"\\\\\\\\\")}\", f\"page_{i}.png\")\n        img.save(img_path, \"PNG\")\n        with open(img_path, \"rb\") as f:\n            b64 = base64.b64encode(f.read()).decode(\"utf-8\")\n            result.append(b64)\n    print(\"SUCCESS:\" + json.dumps(result))\nexcept Exception as e:\n    print(\"ERROR:\" + str(e))\n`;\n        const scriptPath = path__WEBPACK_IMPORTED_MODULE_3___default().join(tempDir, \"convert.py\");\n        await fs_promises__WEBPACK_IMPORTED_MODULE_2___default().writeFile(scriptPath, pythonScript);\n        const pythonCmd = process.platform === \"win32\" ? \"python\" : \"python3\";\n        const { stdout } = await execAsync(`${pythonCmd} \"${scriptPath}\"`, {\n            maxBuffer: 100 * 1024 * 1024\n        });\n        if (stdout.includes(\"INSTALL_NEEDED\")) {\n            throw new Error(\"pdf2image not installed. Run: pip install pdf2image\");\n        }\n        if (stdout.includes(\"SUCCESS:\")) {\n            const jsonStr = stdout.substring(stdout.indexOf(\"SUCCESS:\") + 8);\n            return JSON.parse(jsonStr);\n        }\n        throw new Error(`PDF conversion failed: ${stdout}`);\n    } finally{\n        // Cleanup temp files\n        try {\n            const files = await fs_promises__WEBPACK_IMPORTED_MODULE_2___default().readdir(tempDir);\n            await Promise.all(files.map((f)=>fs_promises__WEBPACK_IMPORTED_MODULE_2___default().unlink(path__WEBPACK_IMPORTED_MODULE_3___default().join(tempDir, f))));\n            await fs_promises__WEBPACK_IMPORTED_MODULE_2___default().rmdir(tempDir);\n        } catch (e) {}\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL3BkZi10by1pbWFnZXMudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBb0M7QUFDSjtBQUNKO0FBQ0w7QUFDSjtBQUVuQixNQUFNSyxZQUFZSiwrQ0FBU0EsQ0FBQ0QsK0NBQUlBO0FBRXpCLGVBQWVNLG1CQUFtQkMsU0FBaUIsRUFBRUMsV0FBVyxFQUFFO0lBQ3ZFLE1BQU1DLFVBQVUsTUFBTVAsMERBQVUsQ0FBQ0MsZ0RBQVMsQ0FBQ0MsZ0RBQVMsSUFBSTtJQUN4RCxNQUFNUyxVQUFVVixnREFBUyxDQUFDTSxTQUFTO0lBRW5DLElBQUk7UUFDRixNQUFNUCw0REFBWSxDQUFDVyxTQUFTTjtRQUU1Qiw0QkFBNEI7UUFDNUIsTUFBTVEsZUFBZSxDQUFDOzs7Ozs7OztnQ0FRTSxFQUFFRixRQUFRRyxPQUFPLENBQUMsT0FBTyxRQUFRLG9DQUFvQyxFQUFFUixTQUFTOzs7aUNBRy9FLEVBQUVDLFFBQVFPLE9BQU8sQ0FBQyxPQUFPLFFBQVE7Ozs7Ozs7O0FBUWxFLENBQUM7UUFFRyxNQUFNQyxhQUFhZCxnREFBUyxDQUFDTSxTQUFTO1FBQ3RDLE1BQU1QLDREQUFZLENBQUNlLFlBQVlGO1FBRS9CLE1BQU1HLFlBQVlDLFFBQVFDLFFBQVEsS0FBSyxVQUFVLFdBQVc7UUFDNUQsTUFBTSxFQUFFQyxNQUFNLEVBQUUsR0FBRyxNQUFNaEIsVUFBVSxDQUFDLEVBQUVhLFVBQVUsRUFBRSxFQUFFRCxXQUFXLENBQUMsQ0FBQyxFQUFFO1lBQ2pFSyxXQUFXLE1BQU0sT0FBTztRQUMxQjtRQUVBLElBQUlELE9BQU9FLFFBQVEsQ0FBQyxtQkFBbUI7WUFDckMsTUFBTSxJQUFJQyxNQUFNO1FBQ2xCO1FBRUEsSUFBSUgsT0FBT0UsUUFBUSxDQUFDLGFBQWE7WUFDL0IsTUFBTUUsVUFBVUosT0FBT0ssU0FBUyxDQUFDTCxPQUFPTSxPQUFPLENBQUMsY0FBYztZQUM5RCxPQUFPQyxLQUFLQyxLQUFLLENBQUNKO1FBQ3BCO1FBRUEsTUFBTSxJQUFJRCxNQUFNLENBQUMsdUJBQXVCLEVBQUVILE9BQU8sQ0FBQztJQUNwRCxTQUFVO1FBQ1IscUJBQXFCO1FBQ3JCLElBQUk7WUFDRixNQUFNUyxRQUFRLE1BQU01QiwwREFBVSxDQUFDTztZQUMvQixNQUFNdUIsUUFBUUMsR0FBRyxDQUFDSCxNQUFNSSxHQUFHLENBQUNDLENBQUFBLElBQUtqQyx5REFBUyxDQUFDQyxnREFBUyxDQUFDTSxTQUFTMEI7WUFDOUQsTUFBTWpDLHdEQUFRLENBQUNPO1FBQ2pCLEVBQUUsT0FBTzZCLEdBQUcsQ0FBQztJQUNmO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9maW5kLXRoYXQtdHJhbnNhY3Rpb24vLi9zcmMvbGliL3BkZi10by1pbWFnZXMudHM/NmM5YyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBleGVjIH0gZnJvbSAnY2hpbGRfcHJvY2VzcydcbmltcG9ydCB7IHByb21pc2lmeSB9IGZyb20gJ3V0aWwnXG5pbXBvcnQgZnMgZnJvbSAnZnMvcHJvbWlzZXMnXG5pbXBvcnQgcGF0aCBmcm9tICdwYXRoJ1xuaW1wb3J0IG9zIGZyb20gJ29zJ1xuXG5jb25zdCBleGVjQXN5bmMgPSBwcm9taXNpZnkoZXhlYylcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNvbnZlcnRQZGZUb0ltYWdlcyhwZGZCdWZmZXI6IEJ1ZmZlciwgbWF4UGFnZXMgPSAyMCk6IFByb21pc2U8c3RyaW5nW10+IHtcbiAgY29uc3QgdGVtcERpciA9IGF3YWl0IGZzLm1rZHRlbXAocGF0aC5qb2luKG9zLnRtcGRpcigpLCAncGRmLScpKVxuICBjb25zdCBwZGZQYXRoID0gcGF0aC5qb2luKHRlbXBEaXIsICdpbnB1dC5wZGYnKVxuICBcbiAgdHJ5IHtcbiAgICBhd2FpdCBmcy53cml0ZUZpbGUocGRmUGF0aCwgcGRmQnVmZmVyKVxuICAgIFxuICAgIC8vIFVzZSBQeXRob24gd2l0aCBwZGYyaW1hZ2VcbiAgICBjb25zdCBweXRob25TY3JpcHQgPSBgXG5pbXBvcnQgc3lzLCBqc29uLCBiYXNlNjQsIG9zXG50cnk6XG4gICAgZnJvbSBwZGYyaW1hZ2UgaW1wb3J0IGNvbnZlcnRfZnJvbV9wYXRoXG5leGNlcHQgSW1wb3J0RXJyb3I6XG4gICAgcHJpbnQoXCJJTlNUQUxMX05FRURFRFwiKVxuICAgIHN5cy5leGl0KDApXG50cnk6XG4gICAgaW1hZ2VzID0gY29udmVydF9mcm9tX3BhdGgoXCIke3BkZlBhdGgucmVwbGFjZSgvXFxcXC9nLCAnXFxcXFxcXFwnKX1cIiwgZHBpPTE1MCwgZmlyc3RfcGFnZT0xLCBsYXN0X3BhZ2U9JHttYXhQYWdlc30pXG4gICAgcmVzdWx0ID0gW11cbiAgICBmb3IgaSwgaW1nIGluIGVudW1lcmF0ZShpbWFnZXMpOlxuICAgICAgICBpbWdfcGF0aCA9IG9zLnBhdGguam9pbihcIiR7dGVtcERpci5yZXBsYWNlKC9cXFxcL2csICdcXFxcXFxcXCcpfVwiLCBmXCJwYWdlX3tpfS5wbmdcIilcbiAgICAgICAgaW1nLnNhdmUoaW1nX3BhdGgsIFwiUE5HXCIpXG4gICAgICAgIHdpdGggb3BlbihpbWdfcGF0aCwgXCJyYlwiKSBhcyBmOlxuICAgICAgICAgICAgYjY0ID0gYmFzZTY0LmI2NGVuY29kZShmLnJlYWQoKSkuZGVjb2RlKFwidXRmLThcIilcbiAgICAgICAgICAgIHJlc3VsdC5hcHBlbmQoYjY0KVxuICAgIHByaW50KFwiU1VDQ0VTUzpcIiArIGpzb24uZHVtcHMocmVzdWx0KSlcbmV4Y2VwdCBFeGNlcHRpb24gYXMgZTpcbiAgICBwcmludChcIkVSUk9SOlwiICsgc3RyKGUpKVxuYFxuICAgIFxuICAgIGNvbnN0IHNjcmlwdFBhdGggPSBwYXRoLmpvaW4odGVtcERpciwgJ2NvbnZlcnQucHknKVxuICAgIGF3YWl0IGZzLndyaXRlRmlsZShzY3JpcHRQYXRoLCBweXRob25TY3JpcHQpXG4gICAgXG4gICAgY29uc3QgcHl0aG9uQ21kID0gcHJvY2Vzcy5wbGF0Zm9ybSA9PT0gJ3dpbjMyJyA/ICdweXRob24nIDogJ3B5dGhvbjMnXG4gICAgY29uc3QgeyBzdGRvdXQgfSA9IGF3YWl0IGV4ZWNBc3luYyhgJHtweXRob25DbWR9IFwiJHtzY3JpcHRQYXRofVwiYCwge1xuICAgICAgbWF4QnVmZmVyOiAxMDAgKiAxMDI0ICogMTAyNCxcbiAgICB9KVxuICAgIFxuICAgIGlmIChzdGRvdXQuaW5jbHVkZXMoJ0lOU1RBTExfTkVFREVEJykpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcigncGRmMmltYWdlIG5vdCBpbnN0YWxsZWQuIFJ1bjogcGlwIGluc3RhbGwgcGRmMmltYWdlJylcbiAgICB9XG4gICAgXG4gICAgaWYgKHN0ZG91dC5pbmNsdWRlcygnU1VDQ0VTUzonKSkge1xuICAgICAgY29uc3QganNvblN0ciA9IHN0ZG91dC5zdWJzdHJpbmcoc3Rkb3V0LmluZGV4T2YoJ1NVQ0NFU1M6JykgKyA4KVxuICAgICAgcmV0dXJuIEpTT04ucGFyc2UoanNvblN0cilcbiAgICB9XG4gICAgXG4gICAgdGhyb3cgbmV3IEVycm9yKGBQREYgY29udmVyc2lvbiBmYWlsZWQ6ICR7c3Rkb3V0fWApXG4gIH0gZmluYWxseSB7XG4gICAgLy8gQ2xlYW51cCB0ZW1wIGZpbGVzXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGZpbGVzID0gYXdhaXQgZnMucmVhZGRpcih0ZW1wRGlyKVxuICAgICAgYXdhaXQgUHJvbWlzZS5hbGwoZmlsZXMubWFwKGYgPT4gZnMudW5saW5rKHBhdGguam9pbih0ZW1wRGlyLCBmKSkpKVxuICAgICAgYXdhaXQgZnMucm1kaXIodGVtcERpcilcbiAgICB9IGNhdGNoIChlKSB7fVxuICB9XG59XG4iXSwibmFtZXMiOlsiZXhlYyIsInByb21pc2lmeSIsImZzIiwicGF0aCIsIm9zIiwiZXhlY0FzeW5jIiwiY29udmVydFBkZlRvSW1hZ2VzIiwicGRmQnVmZmVyIiwibWF4UGFnZXMiLCJ0ZW1wRGlyIiwibWtkdGVtcCIsImpvaW4iLCJ0bXBkaXIiLCJwZGZQYXRoIiwid3JpdGVGaWxlIiwicHl0aG9uU2NyaXB0IiwicmVwbGFjZSIsInNjcmlwdFBhdGgiLCJweXRob25DbWQiLCJwcm9jZXNzIiwicGxhdGZvcm0iLCJzdGRvdXQiLCJtYXhCdWZmZXIiLCJpbmNsdWRlcyIsIkVycm9yIiwianNvblN0ciIsInN1YnN0cmluZyIsImluZGV4T2YiLCJKU09OIiwicGFyc2UiLCJmaWxlcyIsInJlYWRkaXIiLCJQcm9taXNlIiwiYWxsIiwibWFwIiwiZiIsInVubGluayIsInJtZGlyIiwiZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/pdf-to-images.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@clerk","vendor-chunks/crypto-js","vendor-chunks/tslib","vendor-chunks/cookie","vendor-chunks/map-obj","vendor-chunks/no-case","vendor-chunks/lower-case","vendor-chunks/snakecase-keys","vendor-chunks/snake-case","vendor-chunks/dot-case","vendor-chunks/lodash","vendor-chunks/cloudinary","vendor-chunks/q"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fparse-statement%2Froute&page=%2Fapi%2Fparse-statement%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fparse-statement%2Froute.ts&appDir=C%3A%5CUsers%5CPtahb%5COneDrive%5CDocuments%5Cfind-that-transaction%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CPtahb%5COneDrive%5CDocuments%5Cfind-that-transaction&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();